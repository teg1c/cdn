webpackJsonp([65],{aSDZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Fd2+"),i={data:function(){return{block:!0,user:{},showPreLoading:!0}},components:{PublicHeader:a("Cz8s").a},methods:{onLoad:function(){var e=this;this.util.request({url:"wmall/member/profile"}).then(function(t){e.showPreLoading=!1;var a=t.data.message;a.errno||(e.user=a.message)})},onLogout:function(){var e=this;l.a.confirm({title:"温馨提示",message:"确定退出登录吗？"}).then(function(){e.util.removeStorage("itoken"),e.util.delCookie("itoken"),e.$router.replace(e.util.getUrl({path:"/pages/auth/login"}))})},onUploadImage:function(e){var t=this;t.util.image({obj:e,success:function(e,a){a.url&&a.filename&&t.util.request({url:"wmall/member/profile/avatar",data:{avatar:a.filename},method:"POST"}).then(function(e){e=e.data.message,t.util.$toast(e.message),e.errno||t.$set(t.user,"avatar",a.url)})},options:{channel:"h5"}})}},mounted:function(){this.onLoad()}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"memberProfile"}},[a("public-header",{attrs:{title:"会员资料"}}),e._v(" "),a("div",{staticClass:"content"},[a("van-cell-group",[a("van-cell",{attrs:{title:"会员uid",value:e.user.uid}}),e._v(" "),a("van-cell",{staticClass:"flex-lr",attrs:{title:"会员头像",center:"","is-link":""}},[[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.user.avatar}}),e._v(" "),a("input",{staticClass:"upload-input",attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.onUploadImage(t)}}})])]],2),e._v(" "),a("van-cell",{attrs:{title:"手机号",value:e.user.mobile?e.user.mobile:"绑定手机号",to:e.util.getUrl({path:"/pages/member/bind?mobile="+e.user.mobile}),"is-link":""}}),e._v(" "),a("van-cell",{attrs:{title:"用户名",value:e.user.realname,"is-link":"",to:e.util.getUrl({path:"/pages/member/profileUsername?username="+e.user.realname})}}),e._v(" "),a("van-cell",{attrs:{title:"账号密码",value:"修改","is-link":"",to:e.util.getUrl({path:"/pages/member/profilePassword"})}}),e._v(" "),e.util.isGlala()?a("van-cell",{staticClass:"delete",attrs:{title:"注销账号",value:"注销后无法恢复, 请谨慎操作","is-link":"",to:e.util.getUrl({path:"/pages/member/delete"})}}):e._e()],1),e._v(" "),1==e.user.show_language?a("van-cell-group",{staticClass:"margin-10-t"},[a("van-cell",{attrs:{title:"语言","is-link":"",to:e.util.getUrl({path:"/core/pages/member/language",query:{}})}})],1):e._e(),e._v(" "),a("van-cell-group",{staticClass:"margin-10-t"},[a("van-cell",{attrs:{title:"服务协议/隐私政策","is-link":"",to:e.util.getUrl({path:"/pages/member/agreement",query:{type:"tips"}})}})],1),e._v(" "),a("div",{staticClass:"submit"},[e.util.isWeixin()?e._e():a("van-button",{attrs:{type:"danger",size:"normal",block:"block"},on:{click:e.onLogout}},[e._v("退出登录")])],1)],1),e._v(" "),e.showPreLoading?a("iloading"):e._e()],1)},staticRenderFns:[]};var s=a("VU/8")(i,r,!1,function(e){a("rmri")},null,null);t.default=s.exports},rmri:function(e,t){}});
//# sourceMappingURL=65.006ff045c868ba1cf199.js.map