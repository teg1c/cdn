webpackJsonp([176],{QW0v:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Gu7T"),i=s.n(a),n=s("mzkE"),r=s("Cz8s"),o=s("NPH5"),d=s("Fd2+"),l={components:{PublicHeader:r.a,PublicFooter:n.a,load:o.a,Dialog:d.a},data:function(){return{orderStatusArr:[{text:"退押金中",status:2},{text:"已支付",status:1}],orders:{page:1,psize:10,finished:!1,loading:!1,data:[]},filter:{items:{status:0}},showPreLoading:!0,menufooter:{}}},methods:{onToggleStatus:function(t){this.filter.items.status=t,this.onLoad(!0)},onChangeStatus:function(t,e){var s={url:"wmall/mall/deposit/order_update",data:{id:t,type:e}};this.util.jspost(s)},onLoad:function(t){var e=this;if(t&&(this.orders={page:1,psize:10,loading:!0,finished:!1,data:[]}),this.orders.finished)return!1;this.util.request({url:"wmall/mall/deposit/order_list",data:{page:this.orders.page,psize:this.orders.psize,status:this.filter.items.status,menufooter:1}}).then(function(t){var s=t.data.message;s.errno?e.$toast(s.message):(e.hideLoading(),s=s.message,e.orders.data=[].concat(i()(e.orders.data),i()(s.orders)),e.orders.loading=!1,s.orders.length<e.orders.psize&&(e.orders.finished=!0),e.orders.page++,e.menufooter=window.menufooter)})},hideLoading:function(){this.showPreLoading=!1}},mounted:function(){}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"deposit-order-list"}},[s("public-header",{attrs:{title:"押金订单"}}),t._v(" "),s("public-footer",{attrs:{preLoading:t.showPreLoading,menufooter:t.menufooter}}),t._v(" "),s("div",{staticClass:"content"},[s("van-tabs",{attrs:{sticky:"","offset-top":"46"},on:{change:t.onToggleStatus},model:{value:t.filter.items.status,callback:function(e){t.$set(t.filter.items,"status",e)},expression:"filter.items.status"}},t._l(t.orderStatusArr,function(e,a){return s("van-tab",{key:a,attrs:{title:e.text,name:e.status}},[s("van-list",{attrs:{finished:t.orders.finished,offset:100,"immediate-check":!0},on:{load:t.onLoad},model:{value:t.orders.loading,callback:function(e){t.$set(t.orders,"loading",e)},expression:"orders.loading"}},[t.orders.data.length>0?[t._l(t.orders.data,function(e,a){return[s("div",{staticClass:"order-item"},[s("div",{staticClass:"info",on:{click:function(s){return t.util.jsUrl("/mall/pages/deposit/detail",{id:e.id})}}},[s("div",{staticClass:"flex-lr"},[s("div",[s("span",[t._v("支付时间")]),t._v(" "),s("span",[t._v(t._s(e.paytime_cn))])]),t._v(" "),s("div",[t._v(t._s(e.status_cn.text))])]),t._v(" "),s("div",{staticClass:"order-item-info font-14"},[s("div",{staticClass:"flex-lr margin-10-tb"},[s("span",[t._v("押金费")]),t._v(" "),s("span",{staticClass:"c-danger"},[t._v(t._s(t.Lang.dollarSign)+t._s(e.final_fee))])]),t._v(" "),s("div",{staticClass:"flex-lr margin-10-tb"},[s("span",[t._v("押金类型")]),t._v(" "),s("span",[t._v(t._s(e.category.title))])])])]),t._v(" "),s("div",{staticClass:"btn-group van-hairline--top"},[1==e.status?[s("van-button",{attrs:{plain:"",round:"",hairline:"",size:"normal",type:"danger"},on:{click:function(s){return t.onChangeStatus(e.id,"refund_apply")}}},[t._v("申请退押金")])]:t._e(),t._v(" "),s("van-button",{attrs:{plain:"",round:"",hairline:"",type:"default"},on:{click:function(s){return t.util.jsUrl("/mall/pages/deposit/detail",{id:e.id})}}},[t._v("详情")])],2)])]}),t._v(" "),t.orders.finished?s("load",{attrs:{type:"loaded",text:"我是有底线的",bgcolor:"#f5f5f5"}}):t._e()]:s("div",{staticClass:"common-no-con"},[s("img",{attrs:{src:"static/img/order_no_con.png",alt:""}}),t._v(" "),s("p",[t._v("您还没有押金订单！")])])],2)],1)}),1)],1)],1)},staticRenderFns:[]};var c=s("VU/8")(l,u,!1,function(t){s("iv5u")},null,null);e.default=c.exports},iv5u:function(t,e){}});
//# sourceMappingURL=176.36fe494216dc0d245b4f.js.map