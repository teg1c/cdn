{"version":3,"sources":["webpack:///src/pages/paotui/store/shop/update.vue","webpack:///./src/pages/paotui/store/shop/update.vue?9b28","webpack:///./src/pages/paotui/store/shop/update.vue"],"names":["update","data","timePickerShow","type","store","title","logo","content","business_hours","telephone","address","thumbs","category_arr","notice","tips","haodian_tags","categorys","businessHoursSelected","index","columns","values","defaultIndex","popup","haodian_category","tag","islegal","showPreLoading","components","publicHeader","header","uploader","methods","extends_default","Object","vuex_esm","onToggleTimePicker","this","onConfirmTime","value","onAddTime","length","util","$toast","push","s","e","onRemoveTime","splice","onToggleCategory","id","$refs","checkboxes","toggle","onChangeLogo","filename","onChangeThumbs","x","image","url","onTogglePopup","key","onLoad","that","funcCommon","vue","autoAssign","variable","success","res","searchLocationInfo","location_x","location_y","extend","onSubmit","stringify_default","replaceState","val","fail","computed","created","query","parseQuery","$route","mounted","shop_update","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","label","placeholder","input-align","model","callback","$$v","$set","expression","is-link","to","getUrl","path","slog","rows","autosize","_l","item","slot","on","click","$event","_s","class","margin-10-t","position","confirm","cancel","max","onGetUrl","delete","_e","size","disabled","block","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"oMAoHAA,GACAC,KADA,WAEA,OACAC,gBAAA,EACAC,KAAA,QACAC,OACAC,MAAA,GACAC,KAAA,GACAC,QAAA,GACAC,kBACAC,UAAA,GACAC,QAAA,GACAC,UACAC,gBACAC,OAAA,GACAC,KAAA,GACAC,iBAEAC,aACAC,uBACAC,MAAA,EACAf,KAAA,KAEAG,QACAK,UACAQ,UAEAC,UACAC,aAAA,IAGAD,UACAC,aAAA,IAGAC,OACAC,kBAAA,GAEAC,IAAA,GACAC,SAAA,EACAC,gBAAA,IAGAC,YACAC,aAAAC,EAAA,EACAC,WAAA,GAEAC,QAAAC,OACAC,OAAAC,EAAA,EAAAD,EAAA,kBACAE,mBAFA,SAEAjB,EAAAf,GACAiC,KAAAlC,gBAAAkC,KAAAlC,eACAgB,GAAA,SAAAf,GAAA,KAAAA,KACAiC,KAAAnB,sBAAAC,QACAkB,KAAAnB,sBAAAd,SAGAkC,cATA,SASAC,GACA,GAAAA,EAAA,CACA,IAAApB,EAAAkB,KAAAnB,sBAAAC,MACAf,EAAAiC,KAAAnB,sBAAAd,KACAiC,KAAAhC,MAAAI,eAAAU,GAAAf,GAAAmC,EACAF,KAAAD,uBAGAI,UAjBA,WAkBA,wBAAAH,KAAAjC,OAGAiC,KAAAhC,MAAAI,eAAAgC,QAAA,GACAJ,KAAAK,KAAAC,OAAA,iBACA,QAEAN,KAAAhC,MAAAI,eAAAmC,MACAC,EAAA,QACAC,EAAA,YAGAC,aA9BA,SA8BA5B,GACA,qBAAAkB,KAAAjC,KACA,SAEAiC,KAAAhC,MAAAI,eAAAuC,OAAA7B,EAAA,IAEA8B,iBApCA,SAoCAC,EAAA/B,GACAkB,KAAAc,MAAAC,WAAAjC,GAAAkC,UAEAC,aAvCA,SAuCApD,GACA,IAAAK,EAAA,GACAL,GAAA,GAAAA,EAAAuC,QAAAvC,EAAA,GAAAqD,WACAhD,EAAAL,EAAA,GAAAqD,UAEAlB,KAAAhC,MAAAE,QAEAiD,eA9CA,SA8CAtD,GACA,IAAAU,KACA,GAAAV,KAAAuC,OAAA,EACA,QAAAgB,KAAAvD,EACAU,EAAAgC,MACAc,MAAAxD,EAAAuD,GAAAE,IACAA,IAAA,KAIAtB,KAAAhC,MAAAO,UAEAgD,cA1DA,SA0DAC,GACAxB,KAAAd,MAAAsC,IAAAxB,KAAAd,MAAAsC,IAEAC,OA7DA,WA8DA,IAAAC,EAAA1B,KACGH,OAAA8B,EAAA,EAAA9B,EACHyB,IAAA,sBACAM,IAAAF,EACAG,YAAA,EACAC,SAAA,QACAjE,MACAE,KAAA2D,EAAA3D,MAEAgE,QAAA,SAAAC,GAEA,GADAN,EAAArC,SAAA,EACA,QAAAqC,EAAA3D,KACA2D,EAAA1D,MAAAE,MACAwD,EAAAxD,KAAAqC,MACAe,IAAAI,EAAA1D,MAAAE,YAGA,aAAAwD,EAAA3D,MACA,GAAA2D,EAAA1D,MAAAO,QAAAmD,EAAA1D,MAAAO,OAAA6B,OAAA,EACA,QAAAgB,KAAAM,EAAA1D,MAAAO,OACAmD,EAAAnD,OAAAgC,MACAe,IAAAI,EAAA1D,MAAAO,OAAA6C,GAAAC,aAIA,cAAAK,EAAA3D,KAAA,CACA,IAAAkE,EAAAP,EAAAO,mBACAA,KAAAC,YAAAD,EAAAE,aACAT,EAAA1D,MAAA0D,EAAArB,KAAA+B,OAAAV,EAAA1D,MAAAiE,SAMAI,SAhGA,WAiGA,IAAAX,EAAA1B,KACA,IAAA0B,EAAArC,QACA,SAEAqC,EAAArC,SAAA,EACA,IAAAa,EAAAwB,EAAA1D,MAAA0D,EAAA3D,MACA,WAAA2D,EAAA3D,OACAmC,GACA5B,QAAAoD,EAAA1D,MAAAM,QACA4D,WAAAR,EAAA1D,MAAAkE,WACAC,WAAAT,EAAA1D,MAAAmE,aAGGtC,OAAA8B,EAAA,EAAA9B,EACHyB,IAAA,yBACAM,IAAAF,EACA7D,MACAE,KAAA2D,EAAA3D,KACAmC,MAAAoC,IAAApC,IAEA6B,QAAA,SAAAC,GACAN,EAAArB,KAAAC,OAAA0B,EAAA,uBACA,WAAAN,EAAA3D,MACA2D,EAAAa,cAAAf,IAAA,qBAAAgB,UAGAC,KAAA,SAAAT,GACAN,EAAArB,KAAAC,OAAA0B,GACAN,EAAArC,SAAA,QAMAqD,SAAA9C,OACAC,OAAAC,EAAA,EAAAD,EACA,wBAIA8C,QAxLA,WAyLA,IAAAC,EAAA5C,KAAAK,KAAAwC,WAAA7C,KAAA8C,OAAAF,OACA5C,KAAAjC,KAAA6E,EAAA7E,MAEAgF,QA5LA,WA6LA/C,KAAAyB,WC9SeuB,GADEC,OAFjB,WAA0B,IAAAC,EAAAlD,KAAamD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAO1C,GAAA,kBAAqBwC,EAAA,iBAAsBE,OAAOtF,MAAA,YAAkBiF,EAAAM,GAAA,KAAAH,EAAA,OAAwBI,YAAA,YAAsB,SAAAP,EAAAnF,KAAAsF,EAAA,kBAAAA,EAAA,aAA6DE,OAAOG,MAAA,OAAAC,YAAA,UAAAC,cAAA,SAA6DC,OAAQ3D,MAAAgD,EAAAlF,MAAA,MAAA8F,SAAA,SAAAC,GAAiDb,EAAAc,KAAAd,EAAAlF,MAAA,QAAA+F,IAAkCE,WAAA,kBAA2B,gBAAAf,EAAAnF,KAAAsF,EAAA,kBAAAA,EAAA,aAAqEE,OAAOG,MAAA,OAAAC,YAAA,YAAAC,cAAA,SAA+DC,OAAQ3D,MAAAgD,EAAAlF,MAAA,UAAA8F,SAAA,SAAAC,GAAqDb,EAAAc,KAAAd,EAAAlF,MAAA,YAAA+F,IAAsCE,WAAA,sBAA+B,cAAAf,EAAAnF,KAAAsF,EAAA,kBAAAA,EAAA,YAAkEE,OAAOtF,MAAA,QAAAiG,UAAA,GAAAC,GAAAjB,EAAA7C,KAAA+D,QAAmDC,KAAA,2CAAAzB,cAA+DM,EAAAlF,MAAAkE,YAAAgB,EAAAlF,MAAAmE,WAAAkB,EAAA,QAA4DE,OAAOe,KAAA,OAAYpB,EAAAM,GAAA,UAAAH,EAAA,QAA8BE,OAAOe,KAAA,OAAYpB,EAAAM,GAAA,WAAAN,EAAAM,GAAA,KAAAH,EAAA,aAAgDE,OAAOG,MAAA,OAAAC,YAAA,UAAAC,cAAA,SAA6DC,OAAQ3D,MAAAgD,EAAAlF,MAAA,QAAA8F,SAAA,SAAAC,GAAmDb,EAAAc,KAAAd,EAAAlF,MAAA,UAAA+F,IAAoCE,WAAA,oBAA6B,cAAAf,EAAAnF,MAAAsF,EAAA,OAAyCI,YAAA,+CAAyDP,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,kBAAAA,EAAA,aAAoEE,OAAOxF,KAAA,WAAAwG,KAAA,IAAAC,SAAA,GAAAb,YAAA,WAAmEE,OAAQ3D,MAAAgD,EAAAlF,MAAA,QAAA8F,SAAA,SAAAC,GAAmDb,EAAAc,KAAAd,EAAAlF,MAAA,UAAA+F,IAAoCE,WAAA,oBAA6B,cAAAf,EAAAnF,MAAAsF,EAAA,OAAyCI,YAAA,+CAAyDP,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,kBAAAA,EAAA,aAAoEE,OAAOxF,KAAA,WAAAwG,KAAA,IAAAC,SAAA,GAAAb,YAAA,WAAmEE,OAAQ3D,MAAAgD,EAAAlF,MAAA,OAAA8F,SAAA,SAAAC,GAAkDb,EAAAc,KAAAd,EAAAlF,MAAA,SAAA+F,IAAmCE,WAAA,mBAA4B,YAAAf,EAAAnF,MAAAsF,EAAA,OAAuCI,YAAA,+CAAyDP,EAAAM,GAAA,aAAAN,EAAAM,GAAA,KAAAH,EAAA,kBAAAA,EAAA,aAAuEE,OAAOxF,KAAA,WAAAwG,KAAA,IAAAC,SAAA,GAAAb,YAAA,uBAA+EE,OAAQ3D,MAAAgD,EAAAlF,MAAA,KAAA8F,SAAA,SAAAC,GAAgDb,EAAAc,KAAAd,EAAAlF,MAAA,OAAA+F,IAAiCE,WAAA,iBAA0B,sBAAAf,EAAAnF,MAAAsF,EAAA,OAAiDI,YAAA,+CAAyDP,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,iBAAAH,EAAAuB,GAAAvB,EAAAlF,MAAA,wBAAA0G,EAAA5F,GAA0G,OAAAuE,EAAA,YAAsB7B,IAAA1C,IAAUuE,EAAA,OAAYE,OAAOoB,KAAA,SAAeA,KAAA,UAActB,EAAA,QAAauB,IAAIC,MAAA,SAAAC,GAAyB,OAAA5B,EAAAnD,mBAAAjB,EAAA,SAA4CoE,EAAAM,GAAAN,EAAA6B,GAAAL,EAAAlE,MAAA0C,EAAAM,GAAA,KAAAH,EAAA,QAAkDI,YAAA,kBAA4BP,EAAAM,GAAA,OAAAN,EAAAM,GAAA,KAAAH,EAAA,QAAuCuB,IAAIC,MAAA,SAAAC,GAAyB,OAAA5B,EAAAnD,mBAAAjB,EAAA,SAA4CoE,EAAAM,GAAAN,EAAA6B,GAAAL,EAAAjE,QAAAyC,EAAAM,GAAA,KAAAH,EAAA,OAAmDI,YAAA,SAAAF,OAA4BoB,KAAA,cAAoBC,IAAKC,MAAA,SAAAC,GAAyB,OAAA5B,EAAAxC,aAAA5B,KAAgC6F,KAAA,eAAmBzB,EAAAM,GAAA,YAAmB,GAAAN,EAAAM,GAAA,KAAAH,EAAA,kBAAsC2B,OAAOC,cAAA/B,EAAAlF,MAAAI,eAAAgC,OAAA,KAAoDiD,EAAA,YAAAA,EAAA,OAA2BI,YAAA,SAAAF,OAA4BoB,KAAA,SAAeC,IAAKC,MAAA3B,EAAA/C,WAAsBwE,KAAA,UAActB,EAAA,KAAUI,YAAA,+BAAyCP,EAAAM,GAAA,6BAAAN,EAAAM,GAAA,KAAAH,EAAA,aAAkEE,OAAO2B,SAAA,UAAoBrB,OAAQ3D,MAAAgD,EAAA,eAAAY,SAAA,SAAAC,GAAoDb,EAAApF,eAAAiG,GAAuBE,WAAA,oBAA8BZ,EAAA,uBAA4BE,OAAOxF,KAAA,QAAc6G,IAAKO,QAAAjC,EAAAjD,cAAAmF,OAAAlC,EAAAnD,uBAA6D,YAAAmD,EAAAnF,MAAAsF,EAAA,OAAuCI,YAAA,+CAAyDP,EAAAM,GAAA,YAAAN,EAAAM,GAAA,KAAAH,EAAA,YAAgDE,OAAO8B,IAAA,IAAAnF,MAAAgD,EAAAhF,MAA2B0G,IAAKU,SAAApC,EAAAjC,aAAAsE,OAAArC,EAAAjC,iBAAuD,UAAAiC,EAAAnF,MAAAsF,EAAA,OAAqCI,YAAA,+CAAyDP,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,YAA8CE,OAAO8B,IAAA,IAAAnF,MAAAgD,EAAA3E,QAA6BqG,IAAKU,SAAApC,EAAA/B,eAAAoE,OAAArC,EAAA/B,mBAA2D+B,EAAAsC,KAAAtC,EAAAM,GAAA,KAAAH,EAAA,OAAkCI,YAAA,eAAyBJ,EAAA,cAAmBI,YAAA,YAAAF,OAA+BkC,KAAA,SAAAC,UAAAxC,EAAA7D,QAAAsG,MAAA,IAAmDf,IAAKC,MAAA3B,EAAAb,YAAsBa,EAAAM,GAAA,kBAAAN,EAAAM,GAAA,KAAAN,EAAA,eAAAG,EAAA,YAAAH,EAAAsC,MAAA,IAElyII,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEnI,EACAoF,GATF,EAVA,SAAAgD,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/57.dc476a25fff6eef5b99b.js","sourcesContent":["<template>\r\n\t<div id=\"store-update\">\r\n\t\t<public-header title=\"基本信息设置\"></public-header>\r\n\t\t<div class=\"content\">\r\n\t\t\t<van-cell-group v-if=\"type == 'title'\">\r\n\t\t\t\t<van-field\r\n\t\t\t\t\tlabel=\"门店名称\"\r\n\t\t\t\t\tplaceholder=\"请输入门店名称\"\r\n\t\t\t\t\tv-model=\"store.title\"\r\n\t\t\t\t\tinput-align=\"right\"\r\n\t\t\t\t>\r\n\t\t\t\t</van-field>\r\n\t\t\t</van-cell-group>\r\n\r\n\t\t\t<van-cell-group v-else-if=\"type == 'telephone'\">\r\n\t\t\t\t<van-field\r\n\t\t\t\t\tlabel=\"联系电话\"\r\n\t\t\t\t\tplaceholder=\"请输入门店联系电话\"\r\n\t\t\t\t\tv-model=\"store.telephone\"\r\n\t\t\t\t\tinput-align=\"right\"\r\n\t\t\t\t>\r\n\t\t\t\t</van-field>\r\n\t\t\t</van-cell-group>\r\n\r\n\t\t\t<van-cell-group v-else-if=\"type == 'address'\">\r\n\t\t\t\t<van-cell\r\n\t\t\t\t\ttitle=\"门店经纬度\"\r\n\t\t\t\t\tis-link\r\n\t\t\t\t\t:to=\"util.getUrl({path: '/plugin/pages/paotui/store/shop/location', query: {}})\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span slog=\"-\" v-if=\"store.location_x && store.location_y\">重新设置</span>\r\n\t\t\t\t\t<span slog=\"-\" v-else>去设置</span>\r\n\t\t\t\t</van-cell>\r\n\t\t\t\t<van-field\r\n\t\t\t\t\tlabel=\"门店地址\"\r\n\t\t\t\t\tplaceholder=\"请输入门店地址\"\r\n\t\t\t\t\tv-model=\"store.address\"\r\n\t\t\t\t\tinput-align=\"right\"\r\n\t\t\t\t></van-field>\r\n\t\t\t</van-cell-group>\r\n\r\n\t\t\t<template v-else-if=\"type == 'content'\">\r\n\t\t\t\t<div class=\"font-14 padding-15-lr padding-10-tb c-gray\">门店描述</div>\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t<van-field v-model=\"store.content\" type=\"textarea\" rows=\"3\" autosize placeholder=\"请输入门店描述\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t</template>\r\n\r\n\t\t\t<template v-else-if=\"type == 'notice'\">\r\n\t\t\t\t<div class=\"font-14 padding-15-lr padding-10-tb c-gray\">商户公告</div>\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t<van-field v-model=\"store.notice\" type=\"textarea\" rows=\"3\" autosize placeholder=\"请输入商户公告\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t</template>\r\n\r\n\t\t\t<template v-else-if=\"type == 'tips'\">\r\n\t\t\t\t<div class=\"font-14 padding-15-lr padding-10-tb c-gray\">商品列表页提示</div>\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t<van-field v-model=\"store.tips\" type=\"textarea\" rows=\"3\" autosize placeholder=\"用户进入页面后, 将弹框提示设置的内容\" />\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t</template>\r\n\r\n\t\t\t<template v-else-if=\"type == 'business_hours'\">\r\n\t\t\t\t<div class=\"font-14 padding-15-lr padding-10-tb c-gray\">营业时间</div>\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t<van-cell v-for=\"(item, index) in store.business_hours\" :key=\"index\">\r\n\t\t\t\t\t\t<div slot=\"title\">\r\n\t\t\t\t\t\t\t<span @click=\"onToggleTimePicker(index, 's')\">{{item.s}}</span>\r\n\t\t\t\t\t\t\t<span class=\"padding-10-lr\">至</span>\r\n\t\t\t\t\t\t\t<span @click=\"onToggleTimePicker(index, 'e')\">{{item.e}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div slot=\"right-icon\" class=\"c-info\" @click=\"onRemoveTime(index)\">移除</div>\r\n\t\t\t\t\t</van-cell>\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t<van-cell-group :class=\"{'margin-10-t': store.business_hours.length > 0}\">\r\n\t\t\t\t\t<van-cell >\r\n\t\t\t\t\t\t<div class=\"c-info\" slot=\"title\" @click=\"onAddTime\">\r\n\t\t\t\t\t\t\t<i class=\"icon icon-roundadd font-16\"></i>添加时间段\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</van-cell>\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t\t<!--时间picker-->\r\n\t\t\t\t<van-popup v-model=\"timePickerShow\" position=\"bottom\">\r\n\t\t\t\t\t<van-datetime-picker\r\n\t\t\t\t\t\ttype=\"time\"\r\n\t\t\t\t\t\t@confirm=\"onConfirmTime\"\r\n\t\t\t\t\t\t@cancel=\"onToggleTimePicker\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</van-popup>\r\n\t\t\t</template>\r\n\r\n\t\t\t<!--门店Logo-->\r\n\t\t\t<template v-else-if=\"type == 'logo'\">\r\n\t\t\t\t<div class=\"font-14 padding-15-lr padding-10-tb c-gray\">门店Logo</div>\r\n\t\t\t\t<uploader max=\"1\" :value=\"logo\" @onGetUrl=\"onChangeLogo\" @delete=\"onChangeLogo\"></uploader>\r\n\t\t\t</template>\r\n\r\n\t\t\t<!--门店实景-->\r\n\t\t\t<template v-else-if=\"type == 'thumbs'\">\r\n\t\t\t\t<div class=\"font-14 padding-15-lr padding-10-tb c-gray\">门店实景</div>\r\n\t\t\t\t<uploader max=\"7\" :value=\"thumbs\" @onGetUrl=\"onChangeThumbs\" @delete=\"onChangeThumbs\"></uploader>\r\n\t\t\t</template>\r\n\r\n\t\t\t<div class=\"padding-15\">\r\n\t\t\t\t<van-button size=\"normal\" class=\"bg-danger\" :disabled=\"!islegal\" block @click=\"onSubmit\">保存修改</van-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport publicHeader from \"@/components/header\"\r\n\timport uploader from \"@/components/uploader\"\r\n\timport {getData, setData} from \"@/controller/funcCommon.js\"\r\n\timport { mapState, mapMutations } from \"vuex\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttimePickerShow: false,\r\n\t\t\t\ttype: 'title',\r\n\t\t\t\tstore: {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tlogo: '',\r\n\t\t\t\t\tcontent: '', //描述\r\n\t\t\t\t\tbusiness_hours: [],\r\n\t\t\t\t\ttelephone: '',\r\n\t\t\t\t\taddress: '',\r\n\t\t\t\t\tthumbs: [],\r\n\t\t\t\t\tcategory_arr: [],\r\n\t\t\t\t\tnotice: '',\r\n\t\t\t\t\ttips: '',\r\n\t\t\t\t\thaodian_tags: []\r\n\t\t\t\t},\r\n\t\t\t\tcategorys: [],\r\n\t\t\t\tbusinessHoursSelected: {\r\n\t\t\t\t\tindex: 0,\r\n\t\t\t\t\ttype: 's'\r\n\t\t\t\t},\r\n\t\t\t\tlogo: [],\r\n\t\t\t\tthumbs: [],\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalues: [],\r\n\t\t\t\t\t\tdefaultIndex: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalues: [],\r\n\t\t\t\t\t\tdefaultIndex: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tpopup: {\r\n\t\t\t\t\thaodian_category: false\r\n\t\t\t\t},\r\n\t\t\t\ttag: '',\r\n\t\t\t\tislegal: false,\r\n\t\t\t\tshowPreLoading: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tpublicHeader,\r\n\t\t\tuploader\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['replaceState']),\r\n\t\t\tonToggleTimePicker(index, type) {\r\n\t\t\t\tthis.timePickerShow = !this.timePickerShow;\r\n\t\t\t\tif(index > -1 && (type == 's' || type == 'e')) {\r\n\t\t\t\t\tthis.businessHoursSelected.index = index;\r\n\t\t\t\t\tthis.businessHoursSelected.type = type;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonConfirmTime(value) {\r\n\t\t\t\tif(value) {\r\n\t\t\t\t\tlet index = this.businessHoursSelected.index;\r\n\t\t\t\t\tlet type = this.businessHoursSelected.type;\r\n\t\t\t\t\tthis.store.business_hours[index][type] = value;\r\n\t\t\t\t\tthis.onToggleTimePicker();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonAddTime() {\r\n\t\t\t\tif(this.type != 'business_hours') {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.store.business_hours.length >=3 ) {\r\n\t\t\t\t\tthis.util.$toast('最多可添加三个营业时间段')\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.store.business_hours.push({\r\n\t\t\t\t\ts: '08:00',\r\n\t\t\t\t\te: '21:00'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonRemoveTime(index) {\r\n\t\t\t\tif(this.type != 'business_hours') {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.store.business_hours.splice(index, 1);\r\n\t\t\t},\r\n\t\t\tonToggleCategory(id, index) {\r\n\t\t\t\tthis.$refs.checkboxes[index].toggle();\r\n\t\t\t},\r\n\t\t\tonChangeLogo(data) {\r\n\t\t\t\tlet logo = ''\r\n\t\t\t\tif(data && data.length == 1 && data[0].filename) {\r\n\t\t\t\t\tlogo = data[0].filename;\r\n\t\t\t\t}\r\n\t\t\t\tthis.store.logo = logo;\r\n\t\t\t},\r\n\t\t\tonChangeThumbs(data) {\r\n\t\t\t\tlet thumbs = [];\r\n\t\t\t\tif(data && data.length > 0) {\r\n\t\t\t\t\tfor(var x in data) {\r\n\t\t\t\t\t\tthumbs.push({\r\n\t\t\t\t\t\t\timage: data[x].url,\r\n\t\t\t\t\t\t\turl: ''\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.store.thumbs = thumbs;\r\n\t\t\t},\r\n\t\t\tonTogglePopup(key) {\r\n\t\t\t\tthis.popup[key] = !this.popup[key];\r\n\t\t\t},\r\n\t\t\tonLoad() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tgetData({\r\n\t\t\t\t\turl: 'errander/store/info',\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\tautoAssign: true,\r\n\t\t\t\t\tvariable: 'store',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttype: that.type\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.islegal = true;\r\n\t\t\t\t\t\tif(that.type == 'logo') {\r\n\t\t\t\t\t\t\tif(that.store.logo) {\r\n\t\t\t\t\t\t\t\tthat.logo.push({\r\n\t\t\t\t\t\t\t\t\turl: that.store.logo\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if(that.type == 'thumbs') {\r\n\t\t\t\t\t\t\tif(that.store.thumbs && that.store.thumbs.length > 0) {\r\n\t\t\t\t\t\t\t\tfor(var x in that.store.thumbs) {\r\n\t\t\t\t\t\t\t\t\tthat.thumbs.push({\r\n\t\t\t\t\t\t\t\t\t\turl: that.store.thumbs[x].image\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if(that.type == 'address') {\r\n\t\t\t\t\t\t\tvar searchLocationInfo = that.searchLocationInfo;\r\n\t\t\t\t\t\t\tif(searchLocationInfo && searchLocationInfo.location_x && searchLocationInfo.location_y) {\r\n\t\t\t\t\t\t\t\tthat.store = that.util.extend(that.store, searchLocationInfo);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonSubmit() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(!that.islegal) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.islegal = false;\r\n\t\t\t\tlet value = that.store[that.type];\r\n\t\t\t\tif(that.type == 'address') {\r\n\t\t\t\t\tvalue = {\r\n\t\t\t\t\t\taddress: that.store.address,\r\n\t\t\t\t\t\tlocation_x: that.store.location_x,\r\n\t\t\t\t\t\tlocation_y: that.store.location_y,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tsetData({\r\n\t\t\t\t\turl: 'errander/store/setting',\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttype: that.type,\r\n\t\t\t\t\t\tvalue: JSON.stringify(value),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.util.$toast(res, 'back', 1500, 'replace');\r\n\t\t\t\t\t\tif(that.type == 'address') {\r\n\t\t\t\t\t\t\tthat.replaceState({key: 'searchLocationInfo', val: {}});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tthat.util.$toast(res);\r\n\t\t\t\t\t\tthat.islegal = true;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\r\n\t\t\t\t'searchLocationInfo'\r\n\t\t\t]),\r\n\t\t},\r\n\r\n\t\tcreated() {\r\n\t\t\tvar query = this.util.parseQuery(this.$route.query);\r\n\t\t\tthis.type = query.type;\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#store-update .tags-list{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 10px 15px;\r\n\t\tfont-size: 14px;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t#store-update .tags-list .tag-group{\r\n\t\tposition: relative;\r\n\t}\r\n\t#store-update .tags-list .van-tag{\r\n\t\tmargin-right: 10px;\r\n\t\tmax-width: 58px;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t#store-update .tags-list .icon-close{\r\n\t\tposition: absolute;\r\n\t\ttop: -4px;\r\n\t\tright: 2px;\r\n\t\tfont-size: 12px;\r\n\t\tpadding: 1px;\r\n\t\tborder-radius: 100%;\r\n\t\tbackground-color: #ff2d4b;\r\n\t\tcolor: #fff;\r\n\t\tz-index: 99;\r\n\t}\r\n\t#store-update .tags-list .no-tags{\r\n\t\ttext-align: right;\r\n\t\tline-height: 22px;\r\n\t}\r\n\t#store-update .van-cell__value .van-icon-add{\r\n\t\tcolor: #33aafc;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/paotui/store/shop/update.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"store-update\"}},[_c('public-header',{attrs:{\"title\":\"基本信息设置\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[(_vm.type == 'title')?_c('van-cell-group',[_c('van-field',{attrs:{\"label\":\"门店名称\",\"placeholder\":\"请输入门店名称\",\"input-align\":\"right\"},model:{value:(_vm.store.title),callback:function ($$v) {_vm.$set(_vm.store, \"title\", $$v)},expression:\"store.title\"}})],1):(_vm.type == 'telephone')?_c('van-cell-group',[_c('van-field',{attrs:{\"label\":\"联系电话\",\"placeholder\":\"请输入门店联系电话\",\"input-align\":\"right\"},model:{value:(_vm.store.telephone),callback:function ($$v) {_vm.$set(_vm.store, \"telephone\", $$v)},expression:\"store.telephone\"}})],1):(_vm.type == 'address')?_c('van-cell-group',[_c('van-cell',{attrs:{\"title\":\"门店经纬度\",\"is-link\":\"\",\"to\":_vm.util.getUrl({path: '/plugin/pages/paotui/store/shop/location', query: {}})}},[(_vm.store.location_x && _vm.store.location_y)?_c('span',{attrs:{\"slog\":\"-\"}},[_vm._v(\"重新设置\")]):_c('span',{attrs:{\"slog\":\"-\"}},[_vm._v(\"去设置\")])]),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"门店地址\",\"placeholder\":\"请输入门店地址\",\"input-align\":\"right\"},model:{value:(_vm.store.address),callback:function ($$v) {_vm.$set(_vm.store, \"address\", $$v)},expression:\"store.address\"}})],1):(_vm.type == 'content')?[_c('div',{staticClass:\"font-14 padding-15-lr padding-10-tb c-gray\"},[_vm._v(\"门店描述\")]),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"textarea\",\"rows\":\"3\",\"autosize\":\"\",\"placeholder\":\"请输入门店描述\"},model:{value:(_vm.store.content),callback:function ($$v) {_vm.$set(_vm.store, \"content\", $$v)},expression:\"store.content\"}})],1)]:(_vm.type == 'notice')?[_c('div',{staticClass:\"font-14 padding-15-lr padding-10-tb c-gray\"},[_vm._v(\"商户公告\")]),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"textarea\",\"rows\":\"3\",\"autosize\":\"\",\"placeholder\":\"请输入商户公告\"},model:{value:(_vm.store.notice),callback:function ($$v) {_vm.$set(_vm.store, \"notice\", $$v)},expression:\"store.notice\"}})],1)]:(_vm.type == 'tips')?[_c('div',{staticClass:\"font-14 padding-15-lr padding-10-tb c-gray\"},[_vm._v(\"商品列表页提示\")]),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"textarea\",\"rows\":\"3\",\"autosize\":\"\",\"placeholder\":\"用户进入页面后, 将弹框提示设置的内容\"},model:{value:(_vm.store.tips),callback:function ($$v) {_vm.$set(_vm.store, \"tips\", $$v)},expression:\"store.tips\"}})],1)]:(_vm.type == 'business_hours')?[_c('div',{staticClass:\"font-14 padding-15-lr padding-10-tb c-gray\"},[_vm._v(\"营业时间\")]),_vm._v(\" \"),_c('van-cell-group',_vm._l((_vm.store.business_hours),function(item,index){return _c('van-cell',{key:index},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{on:{\"click\":function($event){return _vm.onToggleTimePicker(index, 's')}}},[_vm._v(_vm._s(item.s))]),_vm._v(\" \"),_c('span',{staticClass:\"padding-10-lr\"},[_vm._v(\"至\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.onToggleTimePicker(index, 'e')}}},[_vm._v(_vm._s(item.e))])]),_vm._v(\" \"),_c('div',{staticClass:\"c-info\",attrs:{\"slot\":\"right-icon\"},on:{\"click\":function($event){return _vm.onRemoveTime(index)}},slot:\"right-icon\"},[_vm._v(\"移除\")])])}),1),_vm._v(\" \"),_c('van-cell-group',{class:{'margin-10-t': _vm.store.business_hours.length > 0}},[_c('van-cell',[_c('div',{staticClass:\"c-info\",attrs:{\"slot\":\"title\"},on:{\"click\":_vm.onAddTime},slot:\"title\"},[_c('i',{staticClass:\"icon icon-roundadd font-16\"}),_vm._v(\"添加时间段\\n\\t\\t\\t\\t\\t\")])])],1),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.timePickerShow),callback:function ($$v) {_vm.timePickerShow=$$v},expression:\"timePickerShow\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"time\"},on:{\"confirm\":_vm.onConfirmTime,\"cancel\":_vm.onToggleTimePicker}})],1)]:(_vm.type == 'logo')?[_c('div',{staticClass:\"font-14 padding-15-lr padding-10-tb c-gray\"},[_vm._v(\"门店Logo\")]),_vm._v(\" \"),_c('uploader',{attrs:{\"max\":\"1\",\"value\":_vm.logo},on:{\"onGetUrl\":_vm.onChangeLogo,\"delete\":_vm.onChangeLogo}})]:(_vm.type == 'thumbs')?[_c('div',{staticClass:\"font-14 padding-15-lr padding-10-tb c-gray\"},[_vm._v(\"门店实景\")]),_vm._v(\" \"),_c('uploader',{attrs:{\"max\":\"7\",\"value\":_vm.thumbs},on:{\"onGetUrl\":_vm.onChangeThumbs,\"delete\":_vm.onChangeThumbs}})]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"padding-15\"},[_c('van-button',{staticClass:\"bg-danger\",attrs:{\"size\":\"normal\",\"disabled\":!_vm.islegal,\"block\":\"\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"保存修改\")])],1)],2),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c50231de\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/paotui/store/shop/update.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c50231de\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./update.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c50231de\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./update.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/paotui/store/shop/update.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}