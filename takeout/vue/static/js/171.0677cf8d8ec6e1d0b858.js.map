{"version":3,"sources":["webpack:///src/pages/mall/order/index.vue","webpack:///./src/pages/mall/order/index.vue?87eb","webpack:///./src/pages/mall/order/index.vue"],"names":["order","components","PublicHeader","header","PublicFooter","footer","load","OrderStatusWarpper","orderStatusWarpper","Dialog","es","data","orderStatusArr","text","orders","page","psize","finished","loading","filter","items","status","config_mall","errander_status","showPreLoading","menufooter","order_remind","methods","onToggleStatus","this","onLoad","onChangeStatus","oid","type","params","url","confirm","successUrl","util","jspost","onFinishMealPay","title","message","then","force","_this","request","res","result","errno","$toast","hideLoading","concat","toConsumableArray_default","length","window","order_status","mounted","jsauth","mall_order","render","_vm","_h","$createElement","_c","_self","attrs","id","_v","log","_e","preLoading","staticClass","sticky","offset-top","on","change","model","value","callback","$$v","$set","expression","_l","item","index","key","offset","immediate-check","click","$event","jsUrl","_s","delivery_day","delivery_time","status_cn","goodsItem","goodIndex","src","thumb","alt","goods_num","Lang","dollarSign","final_fee","is_pay","plain","round","hairline","order_id","order_type","size","customer_cancel_status","is_comment","is_refund","bgcolor","to","getUrl","path","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/171.0677cf8d8ec6e1d0b858.js","sourcesContent":["<template>\r\n\t<div id=\"mall-order-list\">\r\n\t\t<public-header title=\"我的订单\"></public-header>\r\n\t\t<order-status-warpper v-if=\"order_remind && order_remind.log\" :order=\"order_remind\"></order-status-warpper>\r\n\t\t<public-footer :preLoading=\"showPreLoading\" :menufooter=\"menufooter\"></public-footer>\r\n\t\t<div class=\"content\">\r\n\t\t\t<van-tabs v-model=\"filter.items.status\" @change=\"onToggleStatus\" sticky offset-top=\"46\">\r\n\t\t\t\t<van-tab :title=\"item.text\" v-for=\"(item, index) in orderStatusArr\" :key=\"index\">\r\n\t\t\t\t\t<van-list v-model=\"orders.loading\" :finished=\"orders.finished\" @load=\"onLoad\" :offset=\"100\" :immediate-check=\"true\">\r\n\t\t\t\t\t\t<template v-if=\"orders.data.length > 0\">\r\n\t\t\t\t\t\t\t<template v-for=\"(item, index) in orders.data\">\r\n\t\t\t\t\t\t\t\t<div class=\"order-item\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"info\" @click=\"util.jsUrl('/mall/pages/order/detail', {id: item.id})\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-lr\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>送达时间</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{{item.delivery_day}}{{item.delivery_time}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>{{item.status_cn}}</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"goods-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"goods-item\" v-for=\"(goodsItem, goodIndex) in item.goods\" :key=\"goodIndex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"goods-thumb van-hairline--surround\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img class=\"img-100\" :src=\"goodsItem.thumb\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"total\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"margin-10-r font-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t共\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{{item.goods_num}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t类商品\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"c-danger\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-12\">{{Lang.dollarSign}}</span><span class=\"font-16 font-bold\">{{item.final_fee}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"btn-group van-hairline--top\">\r\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"item.is_pay == 0 && item.status < 5\">\r\n\t\t\t\t\t\t\t\t\t\t\t<van-button @click=\"util.jsUrl('/pages/public/pay', {order_id: item.id, order_type: 'takeout'})\" plain round hairline type=\"default\">立即支付</van-button>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"item.status == 1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<van-button @click=\"onChangeStatus(item.id, 'cancel')\" plain round hairline size=\"normal\"  type=\"danger\">取消订单</van-button>\r\n\t\t\t\t\t\t\t\t\t\t\t<van-button @click=\"onChangeStatus(item.id, 'remind')\" plain round hairline size=\"normal\"  type=\"danger\" v-if=\"item.is_pay == 1\">催单</van-button>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<template v-else-if=\"item.status > 1 && item.status < 5\">\r\n\t\t\t\t\t\t\t\t\t\t\t<van-button @click=\"onChangeStatus(item.id, 'cancel')\" plain round hairline size=\"normal\"  type=\"danger\" v-if=\"item.customer_cancel_status == 1\" >取消订单</van-button>\r\n\t\t\t\t\t\t\t\t\t\t\t<van-button @click=\"onChangeStatus(item.id, 'end_1')\" plain round hairline size=\"normal\" v-if=\"item.order_type == 1 && item.status == 4\">确认送达</van-button>\r\n\t\t\t\t\t\t\t\t\t\t\t<van-button @click=\"onChangeStatus(item.id, 'remind')\" plain round hairline size=\"normal\" v-if=\"item.is_pay == 1\">催单</van-button>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<template v-else-if=\"item.status == 5\">\r\n\t\t\t\t\t\t\t\t\t\t\t<van-button @click=\"util.jsUrl('/mall/pages/cart/index', {order_id: item.id})\" plain round hairline size=\"normal\">再来一单</van-button>\r\n\t\t\t\t\t\t\t\t\t\t\t<van-button @click=\"util.jsUrl('/mall/pages/order/comment', {id: item.id})\" plain round hairline size=\"normal\" v-if=\"item.is_comment == 0\">去评价</van-button>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<template v-else-if=\"item.status == 6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<van-button @click=\"util.jsUrl('/mall/pages/cart/index', {order_id: item.id})\" plain round hairline size=\"normal\">再来一单</van-button>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<van-button @click=\"util.jsUrl('/mall/pages/order/detail', {id: item.id})\" plain round hairline size=\"normal\" v-if=\"item.is_refund == 1\">查看退款</van-button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<load type=\"loaded\" text=\"我是有底线的\" bgcolor=\"#f5f5f5\" v-if=\"orders.finished\"></load>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<div class=\"common-no-con\" v-else>\r\n\t\t\t\t\t\t\t<img src= \"static/img/order_no_con.png\" alt=\"\" />\r\n\t\t\t\t\t\t\t<p>您还没有订单，赶紧点一份！</p>\r\n\t\t\t\t\t\t\t<router-link :to=\"util.getUrl({path: '/mall/pages/home/category'})\" class=\"common-no-con-a\">现在点一份</router-link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</van-list>\r\n\t\t\t\t</van-tab>\r\n\t\t\t</van-tabs>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport PublicFooter from '@/components/footer'\r\n\timport PublicHeader from '@/components/header'\r\n\timport loading from '@/components/loading'\r\n\timport load from '@/components/load'\r\n\timport OrderStatusWarpper from '@/components/orderStatusWarpper'\r\n\timport { Dialog } from 'vant';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tPublicFooter,\r\n\t\t\tload,\r\n\t\t\tOrderStatusWarpper,\r\n\t\t\tDialog\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\torderStatusArr: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '全部'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '待确认'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '处理中'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '待配送'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '配送中'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '已完成'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '已取消'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\torders: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\tfinished: false,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tdata:[]\r\n\t\t\t\t},\r\n\t\t\t\tfilter: {\r\n\t\t\t\t\titems: {\r\n\t\t\t\t\t\tstatus: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tconfig_mall:{},\r\n\t\t\t\terrander_status: '',\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\tmenufooter: {},\r\n\t\t\t\torder_remind: {},\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonToggleStatus(status) {\r\n\t\t\t\tthis.filter.items.status = status;\r\n\t\t\t\tthis.onLoad(true)\r\n\t\t\t},\r\n\t\t\tonChangeStatus(oid, type) {\r\n\t\t\t\tif(type == 'cancel') {\r\n\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\turl: 'wmall/order/index/cancel?id=' + oid,\r\n\t\t\t\t\t\tconfirm: '确定取消订单吗?',\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(type == 'end_1' || type == 'end_2') {\r\n\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\turl: 'wmall/order/index/end?id=' + oid,\r\n\t\t\t\t\t\tconfirm: '你确定收到该商家的外卖?',\r\n\t\t\t\t\t\tsuccessUrl: '/mall/pages/order/comment?id=' + oid,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(type == 'end_2') {\r\n\t\t\t\t\t\tparams.confirm = '你确定收到该商家的外卖?';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(type == 'remind') {\r\n\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\turl: 'wmall/order/index/remind?id=' + oid,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.util.jspost(params);\r\n\t\t\t},\r\n\t\t\tonFinishMealPay() {\r\n\t\t\t\tDialog.confirm({\r\n\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\tmessage: '您的支付方式为餐后支付，请到商家收银台付款',\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonLoad(force) {\r\n\t\t\t\tif(force) {\r\n\t\t\t\t\tthis.orders = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tdata:[]\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tif(this.orders.finished) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/mall/order/list',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpage: this.orders.page,\r\n\t\t\t\t\t\tpsize: this.orders.psize,\r\n\t\t\t\t\t\tstatus: this.filter.items.status,\r\n\t\t\t\t\t\tmenufooter: 1,\r\n\t\t\t\t\t\torder_remind: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.$toast(result.message)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.hideLoading();\r\n\t\t\t\t\tresult = result.message;\r\n\t\t\t\t\tthis.orders.data = [...this.orders.data, ...result.orders];\r\n\t\t\t\t\tthis.orders.loading = false;\r\n\t\t\t\t\tthis.config_mall = result.config_mall;\r\n\t\t\t\t\tthis.errander_status = result.errander_status;\r\n\t\t\t\t\tif(result.orders.length < this.orders.psize) {\r\n\t\t\t\t\t\tthis.orders.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.orders.page++;\r\n\t\t\t\t\tthis.menufooter = window.menufooter;\r\n\t\t\t\t\tthis.order_remind = window.order;\r\n\t\t\t\t\tthis.orderStatusArr = [...result.order_status];\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thideLoading(){\r\n\t\t\t\tthis.showPreLoading = false;\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.util.jsauth();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#mall-order-list .order-item{\r\n\t\tmargin: 10px;\r\n\t\tborder-radius: 5px;\r\n\t\tbackground-color: #fff;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t#mall-order-list .order-item .info{\r\n\t\tpadding: 15px;\r\n\t}\r\n\t#mall-order-list .order-item .goods-list{\r\n\t\tdisplay: flex;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow-x: scroll;\r\n\t\tpadding-top: 15px;\r\n\t}\r\n\t#mall-order-list .order-item .goods-item{\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\t#mall-order-list .order-item .goods-list .goods-item:last-child{\r\n\t\tmargin-right: 0;\r\n\t}\r\n\t#mall-order-list .order-item .goods-thumb{\r\n\t\twidth: 50px;\r\n\t\theight: 50px;\r\n\t\tborder-radius: 5px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t#mall-order-list .order-item .total{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: flex-end;\r\n\t\tjustify-content: flex-end;\r\n\t\tpadding: 15px 0;\r\n\t}\r\n\t#mall-order-list .order-item .btn-group{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\tjustify-content: flex-end;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow-x: scroll;\r\n\t\tpadding: 10px 15px;\r\n\t}\r\n\t#mall-order-list .order-item .btn-group .van-button{\r\n\t\tmargin-left: 10px;\r\n\t\theight: 40px;\r\n\t}\r\n\t#mall-order-list .common-no-con{\r\n\t\tposition: fixed;\r\n\t\tz-index: 5;\r\n\t\ttop: 32%;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 200px;\r\n\t\ttext-align: center;\r\n\t\tcolor: #768491;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\t#mall-order-list .common-no-con img{\r\n\t\tmax-width: 25%;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\t#mall-order-list .common-no-con p{\r\n\t\tmargin: 20px 0;\r\n\t}\r\n\t#mall-order-list .common-no-con .common-no-con-a{\r\n\t\tdisplay: inline-block;\r\n\t\theight: 35px;\r\n\t\tline-height: 35px;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 14px;\r\n\t\tbackground: #ff2d4b;\r\n\t\tpadding: 0 10px;\r\n\t\tborder-radius: 35px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/mall/order/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mall-order-list\"}},[_c('public-header',{attrs:{\"title\":\"我的订单\"}}),_vm._v(\" \"),(_vm.order_remind && _vm.order_remind.log)?_c('order-status-warpper',{attrs:{\"order\":_vm.order_remind}}):_vm._e(),_vm._v(\" \"),_c('public-footer',{attrs:{\"preLoading\":_vm.showPreLoading,\"menufooter\":_vm.menufooter}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('van-tabs',{attrs:{\"sticky\":\"\",\"offset-top\":\"46\"},on:{\"change\":_vm.onToggleStatus},model:{value:(_vm.filter.items.status),callback:function ($$v) {_vm.$set(_vm.filter.items, \"status\", $$v)},expression:\"filter.items.status\"}},_vm._l((_vm.orderStatusArr),function(item,index){return _c('van-tab',{key:index,attrs:{\"title\":item.text}},[_c('van-list',{attrs:{\"finished\":_vm.orders.finished,\"offset\":100,\"immediate-check\":true},on:{\"load\":_vm.onLoad},model:{value:(_vm.orders.loading),callback:function ($$v) {_vm.$set(_vm.orders, \"loading\", $$v)},expression:\"orders.loading\"}},[(_vm.orders.data.length > 0)?[_vm._l((_vm.orders.data),function(item,index){return [_c('div',{staticClass:\"order-item\"},[_c('div',{staticClass:\"info\",on:{\"click\":function($event){return _vm.util.jsUrl('/mall/pages/order/detail', {id: item.id})}}},[_c('div',{staticClass:\"flex-lr\"},[_c('div',[_c('span',[_vm._v(\"送达时间\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.delivery_day)+_vm._s(item.delivery_time))])]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(item.status_cn))])]),_vm._v(\" \"),_c('div',{staticClass:\"goods-list\"},_vm._l((item.goods),function(goodsItem,goodIndex){return _c('div',{key:goodIndex,staticClass:\"goods-item\"},[_c('div',{staticClass:\"goods-thumb van-hairline--surround\"},[_c('img',{staticClass:\"img-100\",attrs:{\"src\":goodsItem.thumb,\"alt\":\"\"}})])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"total\"},[_c('div',{staticClass:\"margin-10-r font-12\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t共\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"),_c('span',[_vm._v(_vm._s(item.goods_num))]),_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t类商品\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"c-danger\"},[_c('span',{staticClass:\"font-12\"},[_vm._v(_vm._s(_vm.Lang.dollarSign))]),_c('span',{staticClass:\"font-16 font-bold\"},[_vm._v(_vm._s(item.final_fee))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"btn-group van-hairline--top\"},[(item.is_pay == 0 && item.status < 5)?[_c('van-button',{attrs:{\"plain\":\"\",\"round\":\"\",\"hairline\":\"\",\"type\":\"default\"},on:{\"click\":function($event){return _vm.util.jsUrl('/pages/public/pay', {order_id: item.id, order_type: 'takeout'})}}},[_vm._v(\"立即支付\")])]:_vm._e(),_vm._v(\" \"),(item.status == 1)?[_c('van-button',{attrs:{\"plain\":\"\",\"round\":\"\",\"hairline\":\"\",\"size\":\"normal\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.onChangeStatus(item.id, 'cancel')}}},[_vm._v(\"取消订单\")]),_vm._v(\" \"),(item.is_pay == 1)?_c('van-button',{attrs:{\"plain\":\"\",\"round\":\"\",\"hairline\":\"\",\"size\":\"normal\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.onChangeStatus(item.id, 'remind')}}},[_vm._v(\"催单\")]):_vm._e()]:(item.status > 1 && item.status < 5)?[(item.customer_cancel_status == 1)?_c('van-button',{attrs:{\"plain\":\"\",\"round\":\"\",\"hairline\":\"\",\"size\":\"normal\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.onChangeStatus(item.id, 'cancel')}}},[_vm._v(\"取消订单\")]):_vm._e(),_vm._v(\" \"),(item.order_type == 1 && item.status == 4)?_c('van-button',{attrs:{\"plain\":\"\",\"round\":\"\",\"hairline\":\"\",\"size\":\"normal\"},on:{\"click\":function($event){return _vm.onChangeStatus(item.id, 'end_1')}}},[_vm._v(\"确认送达\")]):_vm._e(),_vm._v(\" \"),(item.is_pay == 1)?_c('van-button',{attrs:{\"plain\":\"\",\"round\":\"\",\"hairline\":\"\",\"size\":\"normal\"},on:{\"click\":function($event){return _vm.onChangeStatus(item.id, 'remind')}}},[_vm._v(\"催单\")]):_vm._e()]:(item.status == 5)?[_c('van-button',{attrs:{\"plain\":\"\",\"round\":\"\",\"hairline\":\"\",\"size\":\"normal\"},on:{\"click\":function($event){return _vm.util.jsUrl('/mall/pages/cart/index', {order_id: item.id})}}},[_vm._v(\"再来一单\")]),_vm._v(\" \"),(item.is_comment == 0)?_c('van-button',{attrs:{\"plain\":\"\",\"round\":\"\",\"hairline\":\"\",\"size\":\"normal\"},on:{\"click\":function($event){return _vm.util.jsUrl('/mall/pages/order/comment', {id: item.id})}}},[_vm._v(\"去评价\")]):_vm._e()]:(item.status == 6)?[_c('van-button',{attrs:{\"plain\":\"\",\"round\":\"\",\"hairline\":\"\",\"size\":\"normal\"},on:{\"click\":function($event){return _vm.util.jsUrl('/mall/pages/cart/index', {order_id: item.id})}}},[_vm._v(\"再来一单\")])]:_vm._e(),_vm._v(\" \"),(item.is_refund == 1)?_c('van-button',{attrs:{\"plain\":\"\",\"round\":\"\",\"hairline\":\"\",\"size\":\"normal\"},on:{\"click\":function($event){return _vm.util.jsUrl('/mall/pages/order/detail', {id: item.id})}}},[_vm._v(\"查看退款\")]):_vm._e()],2)])]}),_vm._v(\" \"),(_vm.orders.finished)?_c('load',{attrs:{\"type\":\"loaded\",\"text\":\"我是有底线的\",\"bgcolor\":\"#f5f5f5\"}}):_vm._e()]:_c('div',{staticClass:\"common-no-con\"},[_c('img',{attrs:{\"src\":\"static/img/order_no_con.png\",\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"您还没有订单，赶紧点一份！\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"common-no-con-a\",attrs:{\"to\":_vm.util.getUrl({path: '/mall/pages/home/category'})}},[_vm._v(\"现在点一份\")])],1)],2)],1)}),1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a63a77e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/mall/order/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a63a77e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a63a77e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/mall/order/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}