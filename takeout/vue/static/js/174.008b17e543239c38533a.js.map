{"version":3,"sources":["webpack:///src/pages/gohome/tongcheng/index.vue","webpack:///./src/pages/gohome/tongcheng/index.vue?89f3","webpack:///./src/pages/gohome/tongcheng/index.vue"],"names":["tongcheng","components","PublicFooter","footer","InformationItem","informationItem","diy","data","showPreLoading","diydata","get_all","page","psize","loading","loaded","finished","empty","guideData","is_show","config","popup","storeSearch","serviceQrcode","menufooter","order_remind","showFixedSearchBar","getLocationFail","follow","methods","extends_default","Object","vuex_esm","onToggleDiscount","key","diyindex","this","items","id","stores","onToggleInformation","index","showall","onLoad","_this","that","funcCommon","vue","url","lat","locationInfo","location_x","lng","location_y","success","res","cart_sum","util","setWXTitle","title","guide","params","status","show_setting","guideStorage","getStorage","show","setStorage","interval_time","removeStorage","default_location","setLocation","informationdata","window","order","is_show_kefu","imeiqia","onGetInformation","force","_this2","request","then","result","message","concat","toConsumableArray_default","informations","length","onGetCartNums","_this3","errno","$toast","onCloseGuide","onToggleService","onInit","getLocation","last_location_x","successLocation","successAddress","address","fail","activated","is_show_cart","computed","mounted","addEventListener","scrollTop","pageYOffset","document","documentElement","body","gohome_tongcheng","render","_vm","_h","$createElement","_c","_self","attrs","_e","_v","preLoading","staticClass","on","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/174.008b17e543239c38533a.js","sourcesContent":["<template>\r\n\t<div id=\"tongcheng-index\">\r\n\t\t<follow :follow=\"follow\" v-if=\"follow && follow.status == 1\"></follow>\r\n\t\t<public-footer :menufooter=\"menufooter\" :preLoading=\"showPreLoading\"></public-footer>\r\n\t\t<div class=\"container\">\r\n\t\t\t<diy\r\n\t\t\t\t:diydata=\"diydata\"\r\n\t\t\t\t:preLoading=\"showPreLoading\"\r\n\t\t\t\t:getLocationFail=\"getLocationFail\"\r\n\t\t\t\t:showFixedSearchBar=\"showFixedSearchBar\"\r\n\t\t\t\t@onToggleDiscount=\"onToggleDiscount\"\r\n\t\t\t\t@onGetInformation=\"onGetInformation\"\r\n\t\t\t\t@onToggleInformation=\"onToggleInformation\"\r\n\t\t\t\t@onCloseGuide=\"onCloseGuide\"\r\n\t\t\t\t@onToggleService=\"onToggleService\"\r\n\t\t\t>\r\n\t\t\t</diy>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState, mapMutations} from 'vuex'\r\n\timport PublicFooter from '@/components/footer'\r\n\timport diy from '@/components/diy'\r\n\timport InformationItem from './components/informationItem'\r\n\timport {getData, getRecords} from \"@/controller/funcCommon\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tPublicFooter,\r\n\t\t\tInformationItem,\r\n\t\t\tdiy\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\tdiydata:{\r\n\t\t\t\t\tdiy: {\r\n\t\t\t\t\t\tdata: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttongcheng: {\r\n\t\t\t\t\t\tget_all: 0,\r\n\t\t\t\t\t\tpage: 2,\r\n\t\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tloaded: false,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tdata:[]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tguideData: {\r\n\t\t\t\t\t\tis_show: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tconfig: {},\r\n\t\t\t\t\tpopup: {\r\n\t\t\t\t\t\tstoreSearch: false,\r\n\t\t\t\t\t\tserviceQrcode: false\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tmenufooter: {},\r\n\t\t\t\torder_remind: {},\r\n\t\t\t\tshowFixedSearchBar: false,\r\n\t\t\t\tgetLocationFail: false, \r\n\t\t\t\tfollow: {},\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'setLocation', 'getLocation'\r\n\t\t\t]),\r\n\t\t\tonToggleDiscount(key, diyindex) {\r\n\t\t\t\tvar diyitem = this.diydata.diy.data.items[diyindex];\r\n\t\t\t\tif(diyitem.id == 'waimai_stores') {\r\n\t\t\t\t\tthis.diydata.diy.data.items[diyindex].data[key]['activity']['is_show_all'] = !this.diydata.diy.data.items[diyindex].data[key]['activity']['is_show_all'];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.diydata.stores.data[key]['activity']['is_show_all'] = !this.diydata.stores.data[key]['activity']['is_show_all'];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonToggleInformation(index) {\r\n\t\t\t\tthis.diydata.tongcheng.data[index].showall = !this.diydata.tongcheng.data[index].showall;\r\n\t\t\t},\r\n\t\t\tonLoad() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tgetData({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\turl: 'tongcheng/index/index',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlat: this.locationInfo.location_x,\r\n\t\t\t\t\t\tlng: this.locationInfo.location_y,\r\n\t\t\t\t\t\tmenufooter: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthat.diydata.diy = res.diy;\r\n\t\t\t\t\t\tthat.diydata.config = res.config;\r\n\t\t\t\t\t\tthat.diydata.cart_sum = res.cart_sum;\r\n\t\t\t\t\t\tthat.util.setWXTitle(that.diydata.diy.data.page.title);\r\n\r\n\t\t\t\t\t\tif(that.diydata.diy.guide) {\r\n\t\t\t\t\t\t\tif(that.diydata.diy.guide.params.status == 1 && that.diydata.diy.guide.params.show_setting == 'interval') {\r\n\t\t\t\t\t\t\t\tvar guideStorage = this.util.getStorage('guideStorage');\r\n\t\t\t\t\t\t\t\tif(!guideStorage || (guideStorage && !guideStorage.show)) {\r\n\t\t\t\t\t\t\t\t\tthis.util.setStorage('guideStorage', {show: 1}, that.diydata.diy.guide.params.interval_time * 60);\r\n\t\t\t\t\t\t\t\t\tthat.diydata.guideData.is_show = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if(that.diydata.diy.guide.params.status == 1 && that.diydata.diy.guide.params.show_setting == 'everytime') {\r\n\t\t\t\t\t\t\t\tthis.util.removeStorage('guideStorage')\r\n\t\t\t\t\t\t\t\tthat.diydata.guideData.is_show = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar default_location = that.diydata.config.default_location;\r\n\t\t\t\t\t\tif(default_location && default_location.location_x) {\r\n\t\t\t\t\t\t\tthis.getLocationFail = false;\r\n\t\t\t\t\t\t\tthat.setLocation(default_location);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(res.diy.tongcheng && res.diy.tongcheng.informationdata) {\r\n\t\t\t\t\t\t\tthat.diydata.tongcheng.data = res.diy.tongcheng.informationdata;\r\n\t\t\t\t\t\t\tthat.diydata.tongcheng.loading = false;\r\n\t\t\t\t\t\t\tthat.diydata.tongcheng.get_all = res.diy.tongcheng.get_all;\r\n\t\t\t\t\t\t\tif(that.diydata.tongcheng.get_all == 1) {\r\n\t\t\t\t\t\t\t\tthat.diydata.tongcheng.finished = true;\r\n\t\t\t\t\t\t\t\tthat.diydata.tongcheng.loaded = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.menufooter = window.menufooter;\r\n\t\t\t\t\t\tthat.order_remind = window.order;\r\n\t\t\t\t\t\tif(that.diydata.diy.is_show_kefu == 1) {\r\n\t\t\t\t\t\t\tthat.util.imeiqia();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonGetInformation(force) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(force) {\r\n\t\t\t\t\tthat.diydata.tongcheng = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tthat.diydata.tongcheng.loading = true;\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'tongcheng/index/information',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpage: that.diydata.tongcheng.page,\r\n\t\t\t\t\t\tpsize: that.diydata.tongcheng.psize,\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message.message;\r\n\t\t\t\t\tthat.diydata.tongcheng.data = [...this.diydata.tongcheng.data, ...result.informations];\r\n\t\t\t\t\tif(result.informations.length < that.diydata.tongcheng.psize) {\r\n\t\t\t\t\t\tthat.diydata.tongcheng.loaded = 1;\r\n\t\t\t\t\t\tif(!that.diydata.tongcheng.data.length) {\r\n\t\t\t\t\t\t\tthat.diydata.tongcheng.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.tongcheng.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.tongcheng.loading = false;\r\n\t\t\t\t\tthat.diydata.tongcheng.page++;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonGetCartNums() {\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'tongcheng/index/cart',\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.cart_sum = result.message.cart_sum;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonCloseGuide() {\r\n\t\t\t\tthis.diydata.guideData.is_show = false;\r\n\t\t\t},\r\n\t\t\tonToggleService() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.diydata.popup.serviceQrcode = !that.diydata.popup.serviceQrcode;\r\n\t\t\t},\r\n\t\t\tonInit() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.getLocation();\r\n\t\t\t\tif(!this.locationInfo.location_x) {\r\n\t\t\t\t\tthis.util.getLocation({\r\n\t\t\t\t\t\tsuccessLocation: function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlocation_x: res.location_x,\r\n\t\t\t\t\t\t\t\tlocation_y: res.location_y\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccessAddress:  function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlocation_x: res.location_x,\r\n\t\t\t\t\t\t\t\tlocation_y: res.location_y,\r\n\t\t\t\t\t\t\t\taddress: res.address\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlast_location_x: 0,\r\n\t\t\t\t\t\t\t\tlocation_x: 0,\r\n\t\t\t\t\t\t\t\taddress: '获取定位失败'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.getLocationFail = true;\r\n\t\t\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.getLocationFail = false;\r\n\t\t\t\t\tthat.locationInfo.last_location_x = this.locationInfo.location_x;\r\n\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\tactivated() {\r\n\t\t\tif(this.locationInfo.last_location_x != this.locationInfo.location_x) {\r\n\t\t\t\tthis.diydata.tongcheng = {\r\n\t\t\t\t\tget_all: 0,\r\n\t\t\t\t\tpage: 2,\r\n\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t\tloaded: false,\r\n\t\t\t\t\tfinished: false,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tdata:[]\r\n\t\t\t\t};\r\n\t\t\t\tthis.onInit();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(this.diydata.diy.is_show_cart == 1) {\r\n\t\t\t\tthis.onGetCartNums();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\r\n\t\t\t\t'locationInfo'\r\n\t\t\t]),\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\tvar that = this;\r\n\t\t\tthis.onInit();\r\n\t\t\twindow.addEventListener('scroll', function() {\r\n\t\t\t\tvar scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\r\n\t\t\t\tif(scrollTop > 100) {\r\n\t\t\t\t\tthat.showFixedSearchBar = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.showFixedSearchBar = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/gohome/tongcheng/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"tongcheng-index\"}},[(_vm.follow && _vm.follow.status == 1)?_c('follow',{attrs:{\"follow\":_vm.follow}}):_vm._e(),_vm._v(\" \"),_c('public-footer',{attrs:{\"menufooter\":_vm.menufooter,\"preLoading\":_vm.showPreLoading}}),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('diy',{attrs:{\"diydata\":_vm.diydata,\"preLoading\":_vm.showPreLoading,\"getLocationFail\":_vm.getLocationFail,\"showFixedSearchBar\":_vm.showFixedSearchBar},on:{\"onToggleDiscount\":_vm.onToggleDiscount,\"onGetInformation\":_vm.onGetInformation,\"onToggleInformation\":_vm.onToggleInformation,\"onCloseGuide\":_vm.onCloseGuide,\"onToggleService\":_vm.onToggleService}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-495d50d5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/gohome/tongcheng/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-495d50d5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-495d50d5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-495d50d5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/gohome/tongcheng/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}