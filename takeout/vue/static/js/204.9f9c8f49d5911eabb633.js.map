{"version":3,"sources":["webpack:///src/pages/mall/cart/index.vue","webpack:///./src/pages/mall/cart/index.vue?47c1","webpack:///./src/pages/mall/cart/index.vue"],"names":["cart","data","showPreLoading","menufooter","carts","checkAll","editOrDelete","goodsSelected","edit","delete","storeSelected","all","checkedGoodsArr","checkedStoreArr","sendLimits","finalFee","islegal","computed","extends_default","Object","vuex_esm","contentBottom","bottom","this","length","methods","onSubmit","util","$toast","sids","join","$router","replace","getUrl","path","query","onLoad","that","request","url","order_id","then","res","result","message","errno","window","replaceAllcart","onStoreCheckAll","cartIndex","sid","allcart","status","$refs","storeCheckbox","value","onChangeGoodsIsbubmit","onChangeGoodsBox","goodsId","optionKey","refIndex","onCheckAll","singleDeleteGoods","e","name","arr","push","onDeleteGoods","batchDeleteGoods","goodsArr","$dialog","confirm","confirmButtonText","goods","stringify_default","catch","goods_id","option_key","issubmit","onToggleEditOrDelete","watch","concat","toConsumableArray_default","issubmitArr","goodsIndex","final_fee","send_limit","has_goods_submit","title","storeName","isallsubmit","optionIndex","option","indexOf","toFixed","created","parseQuery","$route","mounted","components","PublicHeader","header","PublicFooter","footer","GoodsHandle","goodsHandle","mall_cart","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","_l","item","index","_v","_s","Lang","dollarSign","on","click","$event","jsUrl","_e","ref","checked-color","model","callback","$$v","expression","size","type","round","slot","preLoading","style","paddingBottom","cartItem","refInFor","$set","itemIndex","disabled","close","scopedSlots","_u","key","fn","square","text","proxy","src","thumb","alt","total_discount_price","from","optionId","showAnimate","mode","tag","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/204.9f9c8f49d5911eabb633.js","sourcesContent":["<template>\r\n\t<div id=\"mall-cart\" class=\"font-14\">\r\n\t\t<div class=\"send-limit\" v-if=\"sendLimits.length > 0\">\r\n\t\t\t<div class=\"limit-item van-hairline--top\" v-for=\"(item, index) in sendLimits\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span class=\"c-danger\">{{item.title}}</span>\r\n\t\t\t\t\t<span>还差</span>\r\n\t\t\t\t\t<span class=\"c-danger\">{{Lang.dollarSign}}{{item.send_limit}}</span>\r\n\t\t\t\t\t<span>起送</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex-lr c-danger\">\r\n\t\t\t\t\t<span @click=\"util.jsUrl('/pages/store/goods', {sid: item.sid})\">去凑单</span>\r\n\t\t\t\t\t<span class=\"icon icon-right font-12\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"submit-bar van-hairline--top-bottom\">\r\n\t\t\t<van-checkbox v-model=\"checkAll\" ref=\"all-checkbox\" @click=\"onCheckAll\" checked-color=\"#ff2d4b\">全选</van-checkbox>\r\n\t\t\t<div class=\"flex\">\r\n\t\t\t\t<template v-if=\"editOrDelete == 'edit'\">\r\n\t\t\t\t\t<div class=\"total\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span>合计：</span>\r\n\t\t\t\t\t\t\t<span class=\"c-danger\">{{Lang.dollarSign}}</span>\r\n\t\t\t\t\t\t\t<span class=\"font-16 c-danger\">{{finalFee}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"c-gray\">不含配送费</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<van-button size=\"normal\" type=\"danger\" round @click=\"onSubmit\">去结算</van-button>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<van-button @click=\"batchDeleteGoods\" size=\"normal\" type=\"danger\" round >删除</van-button>\r\n\t\t\t\t</template>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<public-header title=\"购物车\">\r\n\t\t\t<div slot=\"right\" @click=\"onToggleEditOrDelete('delete')\" v-if=\"editOrDelete == 'edit'\">编辑</div>\r\n\t\t\t<div slot=\"right\" @click=\"onToggleEditOrDelete('edit')\" v-else>完成</div>\r\n\t\t</public-header>\r\n\t\t<public-footer :preLoading=\"showPreLoading\" :menufooter=\"menufooter\"></public-footer>\r\n\t\t<div class=\"content\" :style=\"{bottom: contentBottom + 'px', paddingBottom: '10px'}\">\r\n\t\t\t<template v-if=\"allcart.length > 0\">\r\n\t\t\t\t<template v-for=\"(cartItem, cartIndex) in allcart\">\r\n\t\t\t\t\t<div class=\"store-item\">\r\n\t\t\t\t\t\t<div class=\"store-title\">\r\n\t\t\t\t\t\t\t<van-checkbox v-model=\"allcart[cartIndex].cart.isallsubmit\" @click=\"onStoreCheckAll(cartIndex)\" checked-color=\"#ff2d4b\" ref=\"storeCheckbox\">{{cartItem.storeName}}</van-checkbox>\r\n\t\t\t\t\t\t\t<div class=\"tips\">\r\n\t\t\t\t\t\t\t\t<template v-if=\"cartItem.send_limit > 0\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"c-gray\">再买{{Lang.dollarSign}}{{cartItem.send_limit}}元,</span>\r\n\t\t\t\t\t\t\t\t\t<span @click=\"util.jsUrl('/pages/store/goods', {sid: cartItem.sid})\">去凑单</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t<span @click=\"util.jsUrl('/pages/store/goods', {sid: cartItem.sid})\">进入店铺</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<span class=\"icon icon-right font-12\"></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"goods-wrap\" v-for=\"(item, itemIndex) in cartItem.cart.data\">\r\n\t\t\t\t\t\t\t<template v-for=\"(option, index) in item\">\r\n\t\t\t\t\t\t\t\t<van-swipe-cell\r\n\t\t\t\t\t\t\t\t\t\t@close=\"singleDeleteGoods\"\r\n\t\t\t\t\t\t\t\t\t\t:disabled=\"editOrDelete == 'edit'\"\r\n\t\t\t\t\t\t\t\t\t\t:name=\"`${cartItem.sid}:${option.goods_id}:${index}`\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<van-checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"option.issubmit\"\r\n\t\t\t\t\t\t\t\t\t\t\tchecked-color=\"#ff2d4b\"\r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"onChangeGoodsBox(cartIndex, cartItem.sid, option.goods_id, index)\"\r\n\t\t\t\t\t\t\t\t\t\t\t:ref=\"`goodsCheckbox-${option.goods_id}-${index}`\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"option.goods_id != '88888'\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"goods-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"goods-thumb van-hairline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img :src=\"option.thumb\" alt=\"\" class=\"img-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"goods-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{option.title}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"goods-price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{Lang.dollarSign}}{{option.total_discount_price}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<goods-handle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:goods=\"option\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom=\"cart\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:optionId=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:cartIndex=\"cartIndex\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:showAnimate=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmode=\"all\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t</goods-handle>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</van-checkbox>\r\n\t\t\t\t\t\t\t\t\t<template #right>\r\n\t\t\t\t\t\t\t\t\t\t<van-button square type=\"danger\" text=\"删除\" />\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</van-swipe-cell>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t\t<div class=\"flex-center margin-10-tb\">\r\n\t\t\t\t\t<div class=\"to-category flex\" @click=\"util.jsUrl('/mall/pages/home/category', {})\">\r\n\t\t\t\t\t\t<span>继续添加商品</span>\r\n\t\t\t\t\t\t<i class=\"icon icon-right font-12 margin-5-l\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t\t<div class='no-data' v-else>\r\n\t\t\t\t<img class='no-cart' src='static/img/cart_con.png'>\r\n\t\t\t\t<div class='no-record'>您还没有添加购物车，快去购买吧</div>\r\n\t\t\t\t<router-link tag=\"div\" :to=\"util.getUrl({path: '/mall/pages/home/category', query: {}})\" class=\"target\">现在去购物</router-link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport PublicHeader from '@/components/header'\r\n\timport PublicFooter from '@/components/footer'\r\n\timport GoodsHandle from '@/components/goodsHandle'\r\n\timport {mapState, mapMutations} from 'vuex'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\tmenufooter: {},\r\n\t\t\t\tcarts: [],\r\n\t\t\t\tcheckAll: false,\r\n\t\t\t\teditOrDelete: 'edit',\r\n\t\t\t\tgoodsSelected: {\r\n\t\t\t\t\tedit: [],\r\n\t\t\t\t\tdelete: []\r\n\t\t\t\t},\r\n\t\t\t\tstoreSelected: {\r\n\t\t\t\t\tedit: [],\r\n\t\t\t\t\tdelete: []\r\n\t\t\t\t},\r\n\t\t\t\tall: {\r\n\t\t\t\t\tedit: false,\r\n\t\t\t\t\tdelete: false\r\n\t\t\t\t},\r\n\t\t\t\tcheckedGoodsArr: [],\r\n\t\t\t\tcheckedStoreArr: [],\r\n\t\t\t\tsendLimits: [],\r\n\t\t\t\tfinalFee: 0,\r\n\t\t\t\tislegal: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\r\n\t\t\t\t'allcart',\r\n\t\t\t]),\r\n\t\t\tcontentBottom: function() {\r\n\t\t\t\tvar bottom = 110;\r\n\t\t\t\tif(this.sendLimits.length > 0) {\r\n\t\t\t\t\tbottom += this.sendLimits.length * 44;\r\n\t\t\t\t}\r\n\t\t\t\treturn bottom;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonSubmit() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(!that.checkedGoodsArr.length || !that.checkedStoreArr.length) {\r\n\t\t\t\t\tthat.util.$toast('请选择要结算的商品');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar sids = that.checkedStoreArr.join('_');\r\n\t\t\t\tthat.$router.replace(that.util.getUrl({path: '/mall/pages/order/create', query: {sids : sids}}))\r\n\t\t\t},\r\n\r\n\t\t\tonLoad() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.util.request({\r\n\t\t\t\t\turl: 'wmall/mall/cart',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\torder_id: this.query.order_id,\r\n\t\t\t\t\t\tmenufooter: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthat.showPreLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthat.util.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.islegal = true;\r\n\t\t\t\t\tresult = result.message;\r\n\t\t\t\t\tthat.menufooter = window.menufooter;\r\n\t\t\t\t\tif(result.carts) {\r\n\t\t\t\t\t\tthat.replaceAllcart(result.carts);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonStoreCheckAll(cartIndex) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar sid = that.allcart[cartIndex].sid;\r\n\t\t\t\tvar status = that.$refs.storeCheckbox[cartIndex].value;\r\n\t\t\t\tthat.onChangeGoodsIsbubmit(sid, 0, 0, status)\r\n\t\t\t},\r\n\r\n\t\t\tonChangeGoodsBox(cartIndex, sid, goodsId, optionKey) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar refIndex = 'goodsCheckbox-' + goodsId + '-' + optionKey;\r\n\t\t\t\tvar status = that.$refs[refIndex][0].value;\r\n\t\t\t\tthat.onChangeGoodsIsbubmit(sid, goodsId, optionKey, status);\r\n\t\t\t},\r\n\r\n\t\t\tonCheckAll() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar refIndex = 'all-checkbox';\r\n\t\t\t\tvar status = that.$refs[refIndex].value;\r\n\t\t\t\tthat.onChangeGoodsIsbubmit(0, 0, 0, status);\r\n\t\t\t},\r\n\r\n\t\t\tsingleDeleteGoods(e) {\r\n\t\t\t\tvar name = e.name;\r\n\t\t\t\tvar arr = [];\r\n\t\t\t\tarr.push(name);\r\n\t\t\t\tthis.onDeleteGoods(arr);\r\n\t\t\t},\r\n\r\n\t\t\tbatchDeleteGoods() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar arr = this.checkedGoodsArr;\r\n\t\t\t\tif(!arr.length) {\r\n\t\t\t\t\tthat.util.$toast('请勾选要删除的商品');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthat.onDeleteGoods(arr);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tonDeleteGoods(goodsArr) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.$dialog.confirm({\r\n\t\t\t\t\tmessage: '确定删除选中的商品吗',\r\n\t\t\t\t\tconfirmButtonText: '删除'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthat.util.request({\r\n\t\t\t\t\t\turl: 'wmall/mall/cart/delete',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tgoods: JSON.stringify(goodsArr)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\t\tthat.util.$toast(result.message);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresult = result.message;\r\n\t\t\t\t\t\tif(result.carts) {\r\n\t\t\t\t\t\t\tthat.replaceAllcart(result.carts);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(() => {\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonChangeGoodsIsbubmit(sid, goods_id, option_key, issubmit) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.util.request({\r\n\t\t\t\t\turl: 'wmall/mall/cart/issubmit',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tsid: sid,\r\n\t\t\t\t\t\tgoods_id: goods_id,\r\n\t\t\t\t\t\toption_key: option_key,\r\n\t\t\t\t\t\tissubmit: issubmit ? 1 : 0\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthat.util.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult = result.message;\r\n\t\t\t\t\tif(result.carts) {\r\n\t\t\t\t\t\tthat.replaceAllcart(result.carts);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonToggleEditOrDelete(value) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.editOrDelete = value;\r\n\t\t\t},\r\n\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'replaceAllcart'\r\n\t\t\t]),\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tallcart() {\r\n\t\t\t\tif(this.allcart) {\r\n\t\t\t\t\tthis.carts = [...this.allcart];\r\n\t\t\t\t\tvar finalFee = 0;\r\n\t\t\t\t\tvar sendLimits = [];\r\n\t\t\t\t\tvar issubmitArr = [];\r\n\t\t\t\t\tvar checkedGoodsArr = [];\r\n\t\t\t\t\tvar checkedStoreArr = [];\r\n\t\t\t\t\tfor(var cartIndex in this.allcart) {\r\n\t\t\t\t\t\tfinalFee += this.allcart[cartIndex].final_fee;\r\n\t\t\t\t\t\tif(this.allcart[cartIndex].send_limit > 0 && this.allcart[cartIndex].cart.has_goods_submit == 1) {\r\n\t\t\t\t\t\t\tsendLimits.push({\r\n\t\t\t\t\t\t\t\tsid: this.allcart[cartIndex].sid,\r\n\t\t\t\t\t\t\t\ttitle: this.allcart[cartIndex].storeName,\r\n\t\t\t\t\t\t\t\tsend_limit: this.allcart[cartIndex].send_limit\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tissubmitArr.push(this.allcart[cartIndex].cart.isallsubmit)\r\n\t\t\t\t\t\tfor(var goodsIndex in this.allcart[cartIndex].cart.data) {\r\n\t\t\t\t\t\t\tfor(var optionIndex in this.allcart[cartIndex].cart.data[goodsIndex]) {\r\n\t\t\t\t\t\t\t\tvar option = this.allcart[cartIndex].cart.data[goodsIndex][optionIndex];\r\n\t\t\t\t\t\t\t\tif(option.issubmit) {\r\n\t\t\t\t\t\t\t\t\tcheckedGoodsArr.push(this.allcart[cartIndex].sid + ':' + option.goods_id + ':' + optionIndex);\r\n\t\t\t\t\t\t\t\t\tif(checkedStoreArr.indexOf(this.allcart[cartIndex].sid) == -1) {\r\n\t\t\t\t\t\t\t\t\t\tcheckedStoreArr.push(this.allcart[cartIndex].sid)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(issubmitArr.length > 0) {\r\n\t\t\t\t\t\tif(issubmitArr.indexOf(false) > -1) {\r\n\t\t\t\t\t\t\tthis.checkAll = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.checkAll = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.sendLimits = [...sendLimits];\r\n\t\t\t\t\tthis.finalFee = finalFee.toFixed(2);\r\n\t\t\t\t\tthis.checkedGoodsArr = [...checkedGoodsArr];\r\n\t\t\t\t\tthis.checkedStoreArr = [...checkedStoreArr];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\tcreated() {\r\n\t\t\tthis.query = this.util.parseQuery(this.$route.query);\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar that = this;\r\n\t\t\tthat.onLoad();\r\n\t\t},\r\n\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tPublicFooter,\r\n\t\t\tGoodsHandle\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#mall-cart .to-category{\r\n\t\tcolor: #ff2d4b;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\t#mall-cart .send-limit{\r\n\t\tposition: fixed;\r\n\t\tz-index: 100;\r\n\t\tbottom: 110px;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t}\r\n\t#mall-cart .send-limit .limit-item{\r\n\t\theight: 44px;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 0 15px;\r\n\t\tfont-size: 12px;\r\n\t\tbackground-color: #FEFAF1;\r\n\t}\r\n\t#mall-cart .store-item .store-title{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 15px 10px;\r\n\t}\r\n\t#mall-cart .store-item .tips{\r\n\t\tcolor: #ff2d4b;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\t#mall-cart .goods-wrap{\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t#mall-cart .store-item .goods-wrap:last-child{\r\n\t\tmargin-bottom: 0px;\r\n\t}\r\n\t#mall-cart .goods-wrap .van-checkbox{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 15px;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t#mall-cart .store-item .goods-wrap .van-checkbox__label{\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-left: 0;\r\n\t}\r\n\t#mall-cart .goods-item{\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding-left: 15px;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t#mall-cart .goods-item .goods-thumb{\r\n\t\twidth: 70px;\r\n\t\theight: 70px;\r\n\t\tborder-radius: 3px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t#mall-cart .goods-item .info{\r\n\t\tposition: relative;\r\n\t\theight: 70px;\r\n\t\tflex: 1;\r\n\t\tpadding-left: 15px;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: column nowrap;\r\n\t\talign-items: flex-start;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t#mall-cart .goods-item #goods-handle{\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t}\r\n\t#mall-cart .store-item .van-swipe-cell__right .van-button{\r\n\t\theight: 100%;\r\n\t}\r\n\t#mall-cart .submit-bar{\r\n\t\tposition: fixed;\r\n\t\tz-index: 100;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 50px;\r\n\t\theight: 60px;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 0 15px;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t#mall-cart .submit-bar .total{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: column nowrap;\r\n\t\talign-items: flex-end;\r\n\t\tjustify-content: space-around;\r\n\t\theight: 40px;\r\n\t\tfont-size: 12px;\r\n\t\tmargin-right: 15px;\r\n\t}\r\n\t#mall-cart .no-data img{\r\n\t\twidth: 100px;\r\n\t\theight: auto;\r\n\t\tdisplay: block;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\t#mall-cart .no-data .no-record{\r\n\t\tmargin: 15px 0;\r\n\t}\r\n\t#mall-cart .no-data .target{\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 14px;\r\n\t\tbackground-color: #FF2D4B;\r\n\t\tcolor: #fff;\r\n\t\tpadding: 8px 15px;\r\n\t\tborder-radius: 15px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/mall/cart/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"font-14\",attrs:{\"id\":\"mall-cart\"}},[(_vm.sendLimits.length > 0)?_c('div',{staticClass:\"send-limit\"},_vm._l((_vm.sendLimits),function(item,index){return _c('div',{staticClass:\"limit-item van-hairline--top\"},[_c('div',[_c('span',{staticClass:\"c-danger\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('span',[_vm._v(\"还差\")]),_vm._v(\" \"),_c('span',{staticClass:\"c-danger\"},[_vm._v(_vm._s(_vm.Lang.dollarSign)+_vm._s(item.send_limit))]),_vm._v(\" \"),_c('span',[_vm._v(\"起送\")])]),_vm._v(\" \"),_c('div',{staticClass:\"flex-lr c-danger\"},[_c('span',{on:{\"click\":function($event){return _vm.util.jsUrl('/pages/store/goods', {sid: item.sid})}}},[_vm._v(\"去凑单\")]),_vm._v(\" \"),_c('span',{staticClass:\"icon icon-right font-12\"})])])}),0):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"submit-bar van-hairline--top-bottom\"},[_c('van-checkbox',{ref:\"all-checkbox\",attrs:{\"checked-color\":\"#ff2d4b\"},on:{\"click\":_vm.onCheckAll},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\"全选\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex\"},[(_vm.editOrDelete == 'edit')?[_c('div',{staticClass:\"total\"},[_c('div',[_c('span',[_vm._v(\"合计：\")]),_vm._v(\" \"),_c('span',{staticClass:\"c-danger\"},[_vm._v(_vm._s(_vm.Lang.dollarSign))]),_vm._v(\" \"),_c('span',{staticClass:\"font-16 c-danger\"},[_vm._v(_vm._s(_vm.finalFee))])]),_vm._v(\" \"),_c('div',{staticClass:\"c-gray\"},[_vm._v(\"不含配送费\")])]),_vm._v(\" \"),_c('van-button',{attrs:{\"size\":\"normal\",\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"去结算\")])]:[_c('van-button',{attrs:{\"size\":\"normal\",\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.batchDeleteGoods}},[_vm._v(\"删除\")])]],2)],1),_vm._v(\" \"),_c('public-header',{attrs:{\"title\":\"购物车\"}},[(_vm.editOrDelete == 'edit')?_c('div',{attrs:{\"slot\":\"right\"},on:{\"click\":function($event){return _vm.onToggleEditOrDelete('delete')}},slot:\"right\"},[_vm._v(\"编辑\")]):_c('div',{attrs:{\"slot\":\"right\"},on:{\"click\":function($event){return _vm.onToggleEditOrDelete('edit')}},slot:\"right\"},[_vm._v(\"完成\")])]),_vm._v(\" \"),_c('public-footer',{attrs:{\"preLoading\":_vm.showPreLoading,\"menufooter\":_vm.menufooter}}),_vm._v(\" \"),_c('div',{staticClass:\"content\",style:({bottom: _vm.contentBottom + 'px', paddingBottom: '10px'})},[(_vm.allcart.length > 0)?[_vm._l((_vm.allcart),function(cartItem,cartIndex){return [_c('div',{staticClass:\"store-item\"},[_c('div',{staticClass:\"store-title\"},[_c('van-checkbox',{ref:\"storeCheckbox\",refInFor:true,attrs:{\"checked-color\":\"#ff2d4b\"},on:{\"click\":function($event){return _vm.onStoreCheckAll(cartIndex)}},model:{value:(_vm.allcart[cartIndex].cart.isallsubmit),callback:function ($$v) {_vm.$set(_vm.allcart[cartIndex].cart, \"isallsubmit\", $$v)},expression:\"allcart[cartIndex].cart.isallsubmit\"}},[_vm._v(_vm._s(cartItem.storeName))]),_vm._v(\" \"),_c('div',{staticClass:\"tips\"},[(cartItem.send_limit > 0)?[_c('span',{staticClass:\"c-gray\"},[_vm._v(\"再买\"+_vm._s(_vm.Lang.dollarSign)+_vm._s(cartItem.send_limit)+\"元,\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.util.jsUrl('/pages/store/goods', {sid: cartItem.sid})}}},[_vm._v(\"去凑单\")])]:[_c('span',{on:{\"click\":function($event){return _vm.util.jsUrl('/pages/store/goods', {sid: cartItem.sid})}}},[_vm._v(\"进入店铺\")])],_vm._v(\" \"),_c('span',{staticClass:\"icon icon-right font-12\"})],2)],1),_vm._v(\" \"),_vm._l((cartItem.cart.data),function(item,itemIndex){return _c('div',{staticClass:\"goods-wrap\"},[_vm._l((item),function(option,index){return [_c('van-swipe-cell',{attrs:{\"disabled\":_vm.editOrDelete == 'edit',\"name\":((cartItem.sid) + \":\" + (option.goods_id) + \":\" + index)},on:{\"close\":_vm.singleDeleteGoods},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-button',{attrs:{\"square\":\"\",\"type\":\"danger\",\"text\":\"删除\"}})]},proxy:true}],null,true)},[(option.goods_id != '88888')?_c('van-checkbox',{ref:(\"goodsCheckbox-\" + (option.goods_id) + \"-\" + index),refInFor:true,attrs:{\"checked-color\":\"#ff2d4b\"},on:{\"click\":function($event){return _vm.onChangeGoodsBox(cartIndex, cartItem.sid, option.goods_id, index)}},model:{value:(option.issubmit),callback:function ($$v) {_vm.$set(option, \"issubmit\", $$v)},expression:\"option.issubmit\"}},[_c('div',{staticClass:\"goods-item\"},[_c('div',{staticClass:\"goods-thumb van-hairline\"},[_c('img',{staticClass:\"img-100\",attrs:{\"src\":option.thumb,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"goods-title\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(option.title)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"goods-price\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.Lang.dollarSign)+_vm._s(option.total_discount_price)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]),_vm._v(\" \"),_c('goods-handle',{attrs:{\"goods\":option,\"from\":\"cart\",\"optionId\":index,\"cartIndex\":cartIndex,\"showAnimate\":false,\"mode\":\"all\"}})],1)]):_vm._e()],1)]})],2)})],2)]}),_vm._v(\" \"),_c('div',{staticClass:\"flex-center margin-10-tb\"},[_c('div',{staticClass:\"to-category flex\",on:{\"click\":function($event){return _vm.util.jsUrl('/mall/pages/home/category', {})}}},[_c('span',[_vm._v(\"继续添加商品\")]),_vm._v(\" \"),_c('i',{staticClass:\"icon icon-right font-12 margin-5-l\"})])])]:_c('div',{staticClass:\"no-data\"},[_c('img',{staticClass:\"no-cart\",attrs:{\"src\":\"static/img/cart_con.png\"}}),_vm._v(\" \"),_c('div',{staticClass:\"no-record\"},[_vm._v(\"您还没有添加购物车，快去购买吧\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"target\",attrs:{\"tag\":\"div\",\"to\":_vm.util.getUrl({path: '/mall/pages/home/category', query: {}})}},[_vm._v(\"现在去购物\")])],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-37ae42f6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/mall/cart/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-37ae42f6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37ae42f6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/mall/cart/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}