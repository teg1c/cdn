webpackJsonp([224],{"8kvx":function(t,s){},Zht3:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("Cz8s"),a=i("deIj"),n={data:function(){return{sid:0,status:0,tabs:[{status:1,status_cn:"未使用",num:0},{status:2,status_cn:"已使用",num:0},{status:3,status_cn:"已到期",num:0}],tabActive:0,filter:{items:{status:1}},isRefresh:!1,records:{page:1,psize:15,loading:!1,finished:!1,empty:!1,data:[]},showPreLoading:!0,shop_style:""}},components:{PublicHeader:e.a},methods:{onLoad:function(t){Object(a.b)({vue:this,force:t,url:"wmall/shop/coupon/list",recordsName:"coupons",data:{sid:this.sid},success:function(t){this.shop_style=t.store.data.shop_style},fail:function(){}})},onChangeStatus:function(t){this.filter.items.status=this.tabs[t].status,this.onLoad(!0)},onPullDownRefresh:function(){this.onLoad(!0)}},created:function(){var t=this.util.parseQuery(this.$route.query);this.sid=t.sid},mounted:function(){this.onLoad()}},o={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{class:"shop-"+t.shop_style,attrs:{id:"shop-coupon"}},[i("public-header",{attrs:{title:"代金券"}}),t._v(" "),i("div",{staticClass:"content font-14"},[i("van-tabs",{attrs:{color:"#FF2d4B","title-active-color":"#FF2d4B","title-inactive-color":"#000","line-width":80,"line-height":2,"offset-top":46,sticky:""},on:{change:t.onChangeStatus},model:{value:t.tabActive,callback:function(s){t.tabActive=s},expression:"tabActive"}},t._l(t.tabs,function(s,e){return i("van-tab",{key:e},[i("div",{staticClass:"tab-title",attrs:{slot:"title"},slot:"title"},[t._v("\n\t\t\t\t\t\t"+t._s(s.status_cn)+"\n\t\t\t\t\t")]),t._v(" "),i("van-pull-refresh",{on:{refresh:function(s){return t.onPullDownRefresh()}},model:{value:t.isRefresh,callback:function(s){t.isRefresh=s},expression:"isRefresh"}},[t.records.empty?[i("div",{staticClass:"no-data"},[i("img",{attrs:{src:"static/img/coupon_no_con.png",alt:""}}),t._v(" "),i("p",[t._v("您没有代金券")])])]:[i("van-list",{attrs:{finished:t.records.finished,offset:100,"immediate-check":!1},on:{load:t.onLoad},model:{value:t.records.loading,callback:function(s){t.$set(t.records,"loading",s)},expression:"records.loading"}},t._l(t.records.data,function(s,e){return i("div",{key:s.id,staticClass:"coupon-item"},[i("div",{staticClass:"left"},[i("div",[i("span",{staticClass:"font-14"},[t._v(t._s(t.Lang.dollarSign))]),i("span",{staticClass:"discount"},[t._v(t._s(s.discount))])]),t._v(" "),i("div",{staticClass:"margin-5-t "},[t._v("满"+t._s(s.condition)+"元使用")])]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"w-100 ellipsis font-14 font-bold"},[i("i",{staticClass:"icon icon-crownfill"}),t._v(t._s(s.title))]),t._v(" "),i("div",{staticClass:"w-100 ellipsis c-gray margin-10-tb"},[t._v("全场通用")]),t._v(" "),i("div",{staticClass:"w-100 ellipsis c-gray"},[t._v("有效期至"+t._s(s.endtime))]),t._v(" "),1==s.status?[i("router-link",{staticClass:"btn-collect",attrs:{to:t.util.getUrl({path:"/shop/pages/home/index",query:{sid:s.sid}}),tag:"div"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t立即使用\n\t\t\t\t\t\t\t\t\t\t\t")])]:t._e()],2)])}),0),t._v(" "),t.records.finished?i("div",{staticClass:"loaded"},[i("div",{staticClass:"loaded-tips"},[t._v("我是有底线的")])]):t._e()]],2)],1)}),1)],1),t._v(" "),t.showPreLoading?i("iloading"):t._e()],1)},staticRenderFns:[]};var l=i("VU/8")(n,o,!1,function(t){i("8kvx")},null,null);s.default=l.exports}});
//# sourceMappingURL=224.83c38fb2ee6ba42b634b.js.map