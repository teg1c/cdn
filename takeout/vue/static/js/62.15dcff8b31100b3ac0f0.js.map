{"version":3,"sources":["webpack:///src/pages/mall/home/index.vue","webpack:///./src/pages/mall/home/index.vue?d676","webpack:///./src/pages/mall/home/index.vue"],"names":["home","data","active","getLocationFail","showPreLoading","is_use_diy","diydata","diy","storeExtra","condition","order","mode","dis","filter_title","multiple","filter","stores","loading","finished","page","psize","loaded","empty","cid","child_id","categorySelectedId","hotGoods","sailed_month","is_hot","comment_good_percent","showStoreOrGoods","popup","storeSearch","serviceQrcode","superRedpacketData","config","guideData","is_show","menufooter","order_remind","showFixedSearchBar","goodsTabActive","goodsTabActiveReal","goodsTabFixed","goodsTabHeights","goodsTabOffsetTop","followHeight","scrollFromClickTab","storesTabActive","storesTabActiveReal","storesTabFixed","storesTabHeights","storesTabOffsetTop","follow","userAgreement","failedTips","type","tips","btnText","link","mallClose","isRefresh","components","PublicHeader","header","PublicFooter","footer","OrderStatusWarpper","orderStatusWarpper","methods","extends_default","Object","vuex_esm","onToggleShowStoreOrGoods","key","this","onToggleHotGoodsFilter","onGetHotGoods","force","_this","that","util","request","url","lat","locationInfo","location_x","lng","location_y","stringify_default","then","res","result","message","concat","toConsumableArray_default","goods","pagetotal","length","onChangeStoreCategory","params","is_has_allstore","id","parentid","onGetStore","onToggleDiscount","diyindex","items","onToggleStoresTabDiscount","index","activity","onCloseRedpacket","assign_default","onCloseGuide","onChangeStoreExtra","onStoreOrderby","value","title","_this2","onLoad","_this3","code","errno","$toast","replaceAllcart","carts","setWXTitle","guide","status","show_setting","guideStorage","getStorage","show","setStorage","interval_time","removeStorage","default_location","setLocation","navigator","userAgent","indexOf","s","Math","floor","random","slice","toLowerCase","match","df","is_has_hotGoods","cart_sum","window","is_show_kefu","imeiqia","is_has_goodsTab","$nextTick","onCalculateGoodsTabItemHeight","is_has_storesTab","onCalculateStoresTabItemHeight","onInit","isGlala","address","expire","getLocation","last_location_x","successLocation","successAddress","fail","onGetCartNums","_this4","onToggleService","onChangeGoodsTabActive","onChangeStoresTabActive","onChangeFollowStatus","document","getElementsByClassName","offsetTop","clientHeight","getElementById","goodsTabs","height","heightArr","i","push","onToggleGoodsTab","scrollTop","is_has_location","scrollTo","storesTabs","onToggleStoresTab","onPullDownRefresh","created","$route","query","parseQuery","getUserParams","watch","to","from","mobilephone","activated","computed","mounted","jsauth","addEventListener","pageYOffset","documentElement","body","dtop","ceil","mall_home","render","_vm","_h","$createElement","_c","_self","attrs","_v","log","_e","ish5app","agreement","on","changeStatus","showFailedTips","staticClass","refresh","model","callback","$$v","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/62.15dcff8b31100b3ac0f0.js","sourcesContent":["<template>\r\n\t<div id=\"mall-home\">\r\n\t\t<div id=\"allmap\"></div>\r\n\t\t<order-status-warpper v-if=\"order_remind && order_remind.log\" :order=\"order_remind\"></order-status-warpper>\r\n\t\t<user-agreement :agreement=\"userAgreement\"  v-if=\"(util.isGlala() || util.ish5app()) && !util.getStorage('userAgreement') && userAgreement\"></user-agreement>\r\n\t\t<follow :follow=\"follow\" v-if=\"follow && follow.status == 1\" @changeStatus=\"onChangeFollowStatus\"></follow>\r\n\t\t<public-footer :menufooter=\"menufooter\" :showFailedTips=\"mallClose\" :failedTips=\"failedTips\"></public-footer>\r\n\t\t<div class=\"container \">\r\n\t\t\t<van-pull-refresh v-model=\"isRefresh\" @refresh=\"onPullDownRefresh\">\r\n\t\t\t\t<diy\r\n\t\t\t\t\t:diydata=\"diydata\"\r\n\t\t\t\t\t:getLocationFail=\"getLocationFail\"\r\n\t\t\t\t\t:showFixedSearchBar=\"showFixedSearchBar\"\r\n\t\t\t\t\t:goodsTabActive=\"goodsTabActive\"\r\n\t\t\t\t\t:goodsTabFixed=\"goodsTabFixed\"\r\n\t\t\t\t\t:storesTabActive=\"storesTabActive\"\r\n\t\t\t\t\t:storesTabFixed=\"storesTabFixed\"\r\n\t\t\t\t\t@onToggleDiscount=\"onToggleDiscount\"\r\n\t\t\t\t\t@onToggleStoresTabDiscount=\"onToggleStoresTabDiscount\"\r\n\t\t\t\t\t@onChangeStoreExtra=\"onChangeStoreExtra\"\r\n\t\t\t\t\t@onStoreOrderby=\"onStoreOrderby\"\r\n\t\t\t\t\t@onGetStore=\"onGetStore\"\r\n\t\t\t\t\t@onCloseRedpacket=\"onCloseRedpacket\"\r\n\t\t\t\t\t@onCloseGuide=\"onCloseGuide\"\r\n\t\t\t\t\t@onToggleService=\"onToggleService\"\r\n\t\t\t\t\t@onToggleGoodsTab=\"onToggleGoodsTab\"\r\n\t\t\t\t\t@onChangeGoodsTabActive=\"onChangeGoodsTabActive\"\r\n\t\t\t\t\t@onToggleStoresTab=\"onToggleStoresTab\"\r\n\t\t\t\t\t@onChangeStoresTabActive=\"onChangeStoresTabActive\"\r\n\t\t\t\t\t@onChangeStoreCategory=\"onChangeStoreCategory\"\r\n\t\t\t\t\t@onToggleShowStoreOrGoods=\"onToggleShowStoreOrGoods\"\r\n\t\t\t\t\t@onToggleHotGoodsFilter=\"onToggleHotGoodsFilter\"\r\n\t\t\t\t\t@onGetHotGoods=\"onGetHotGoods\"\r\n\t\t\t\t>\r\n\t\t\t\t</diy>\r\n\t\t\t</van-pull-refresh>\r\n\t\t</div>\r\n\t\t<iloading v-if=\"showPreLoading\"></iloading>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport {mapState, mapMutations} from 'vuex'\r\n\timport PublicFooter from '@/components/footer'\r\n\timport PublicHeader from '@/components/header'\r\n\timport follow from '@/components/follow'\r\n\timport diy from '@/components/diy'\r\n\timport userAgreement from '@/components/userAgreement'\r\n\timport OrderStatusWarpper from '@/components/orderStatusWarpper'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactive: 0,\r\n\t\t\t\tgetLocationFail: false,\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\tis_use_diy: 0,\r\n\t\t\t\tdiydata:{\r\n\t\t\t\t\tdiy: {\r\n\t\t\t\t\t\tdata: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstoreExtra: {\r\n\t\t\t\t\t\tcondition: {\r\n\t\t\t\t\t\t\torder: '',\r\n\t\t\t\t\t\t\tmode: '',\r\n\t\t\t\t\t\t\tdis: ''\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfilter_title: '综合排序',\r\n\t\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\t\tfilter: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstores: {\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: 0,\r\n\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t\tfilter: {\r\n\t\t\t\t\t\t\tcid: 0,\r\n\t\t\t\t\t\t\tchild_id: 0,\r\n\t\t\t\t\t\t\tcategorySelectedId: 0,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\thotGoods: {\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: 0,\r\n\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t\tfilter: {\r\n\t\t\t\t\t\t\tsailed_month: 0,\r\n\t\t\t\t\t\t\tis_hot: 0,\r\n\t\t\t\t\t\t\tcomment_good_percent: 0,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tshowStoreOrGoods: 'store',\r\n\t\t\t\t\tpopup: {\r\n\t\t\t\t\t\tstoreSearch: false,\r\n\t\t\t\t\t\tserviceQrcode: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuperRedpacketData: {},\r\n\t\t\t\t\tconfig: {},\r\n\t\t\t\t\tguideData: {\r\n\t\t\t\t\t\tis_show: false\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\t\t\t\tmenufooter: {},\r\n\t\t\t\torder_remind: {},\r\n\t\t\t\tshowFixedSearchBar: false,\r\n\t\t\t\tgoodsTabActive: 0,\r\n\t\t\t\tgoodsTabActiveReal: 0,\r\n\t\t\t\tgoodsTabFixed: 0,\r\n\t\t\t\tgoodsTabHeights: [],\r\n\t\t\t\tgoodsTabOffsetTop: 0,\r\n\t\t\t\tfollowHeight: 0,\r\n\t\t\t\tscrollFromClickTab: false,\r\n\t\t\t\tstoresTabActive: 0,\r\n\t\t\t\tstoresTabActiveReal: 0,\r\n\t\t\t\tstoresTabFixed: 0,\r\n\t\t\t\tstoresTabHeights: [],\r\n\t\t\t\tstoresTabOffsetTop: 0,\r\n\t\t\t\tfollow: {},\r\n\t\t\t\tuserAgreement: '',\r\n\t\t\t\tfailedTips: {\r\n\t\t\t\t\ttype: 'message',\r\n\t\t\t\t\ttips: '平台暂时关闭',\r\n\t\t\t\t\tbtnText: '知道喽',\r\n\t\t\t\t\tlink: 'close'\r\n\t\t\t\t},\r\n\t\t\t\tmallClose: false,\r\n\t\t\t\tisRefresh: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tPublicFooter,\r\n\t\t\tdiy,\r\n\t\t\tOrderStatusWarpper,\r\n\t\t\tfollow,\r\n\t\t\tuserAgreement\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'setLocation', 'getLocation', 'replaceAllcart'\r\n\t\t\t]),\r\n\r\n\t\t\tonToggleShowStoreOrGoods(key) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.diydata.showStoreOrGoods = key;\r\n\t\t\t},\r\n\r\n\t\t\tonToggleHotGoodsFilter(key) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.diydata.hotGoods.filter[key] = !that.diydata.hotGoods.filter[key];\r\n\t\t\t\tthat.onGetHotGoods(true);\r\n\t\t\t},\r\n\r\n\t\t\tonGetHotGoods(force) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(force) {\r\n\t\t\t\t\tthat.diydata.hotGoods = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tfilter: that.diydata.hotGoods.filter\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tthat.diydata.hotGoods.loading = true;\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/mall/index/hotGoods',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlat: that.locationInfo.location_x,\r\n\t\t\t\t\t\tlng: that.locationInfo.location_y,\r\n\t\t\t\t\t\tpage: that.diydata.hotGoods.page,\r\n\t\t\t\t\t\tpsize: that.diydata.hotGoods.psize,\r\n\t\t\t\t\t\tfilter: JSON.stringify(that.diydata.hotGoods.filter),\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message.message;\r\n\t\t\t\t\tif(force) {\r\n\t\t\t\t\t\tthat.diydata.hotGoods.data = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.hotGoods.data = [...this.diydata.hotGoods.data, ...result.goods];\r\n\t\t\t\t\tif(result.pagetotal <= that.diydata.hotGoods.page) {\r\n\t\t\t\t\t\tthat.diydata.hotGoods.loaded = 1;\r\n\t\t\t\t\t\tif(!that.diydata.hotGoods.data.length) {\r\n\t\t\t\t\t\t\tthat.diydata.hotGoods.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.hotGoods.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.hotGoods.loading = false;\r\n\t\t\t\t\tthat.diydata.hotGoods.page++;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonChangeStoreCategory(params) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(that.diy.is_has_allstore != 1 || !params.id || params.id == that.diydata.stores.filter.categorySelectedId) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.diydata.stores.filter.child_id = params.parentid > 0 ? params.id : 0;\r\n\t\t\t\tthat.diydata.stores.filter.categorySelectedId = params.id;\r\n\t\t\t\tthat.onGetStore(true);\r\n\t\t\t},\r\n\r\n\t\t\tonToggleDiscount(key, diyindex) {\r\n\t\t\t\tvar diyitem = this.diydata.diy.data.items[diyindex];\r\n\t\t\t\tif(diyitem.id == 'waimai_stores') {\r\n\t\t\t\t\tthis.diydata.diy.data.items[diyindex].data[key]['activity']['is_show_all'] = !this.diydata.diy.data.items[diyindex].data[key]['activity']['is_show_all'];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.diydata.stores.data[key]['activity']['is_show_all'] = !this.diydata.stores.data[key]['activity']['is_show_all'];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonToggleStoresTabDiscount(key, index, diyindex) {\r\n\t\t\t\tthis.diydata.diy.data.items[diyindex].data[key].stores[index].activity['is_show_all'] = !this.diydata.diy.data.items[diyindex].data[key].stores[index].activity['is_show_all'];\r\n\t\t\t},\r\n\r\n\t\t\tonCloseRedpacket() {\r\n\t\t\t\tthis.diydata.superRedpacketData.is_show = false;\r\n\t\t\t\tthis.diydata.superRedpacketData = Object.assign({}, this.diydata.superRedpacketData);\r\n\t\t\t},\r\n\r\n\t\t\tonCloseGuide() {\r\n\t\t\t\tthis.diydata.guideData.is_show = false;\r\n\t\t\t},\r\n\r\n\t\t\tonChangeStoreExtra(key) {\r\n\t\t\t\tif(key == 'multiple') {\r\n\t\t\t\t\tthis.diydata.storeExtra.multiple = true;\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.diydata.storeExtra.multiple = false;\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.diydata.popup.storeSearch = true;\r\n\t\t\t},\r\n\r\n\t\t\tonStoreOrderby(type, value, title) {\r\n\t\t\t\tif(type == 'order') {\r\n\t\t\t\t\tif(value == 'svipRedpacket') {\r\n\t\t\t\t\t\tthis.diydata.storeExtra.condition.dis = value;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.diydata.storeExtra.condition.order = value;\r\n\t\t\t\t\t\tthis.diydata.storeExtra.multiple = false;\r\n\t\t\t\t\t\tif(value != 'sailed' && value != 'distance') {\r\n\t\t\t\t\t\t\tthis.diydata.storeExtra.filter_title = title;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.diydata.storeExtra.filter_title = '综合排序';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(type == 'discounts') {\r\n\t\t\t\t\tif(this.diydata.storeExtra.condition.dis == value) {\r\n\t\t\t\t\t\tvalue = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.dis = value;\r\n\t\t\t\t\tif(title != 'refresh') {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(type == 'mode') {\r\n\t\t\t\t\tif(this.diydata.storeExtra.condition.mode == value) {\r\n\t\t\t\t\t\tvalue = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.mode = value;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else if(type == 'clear') {\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.dis = '';\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.order = '';\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.mode = '';\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = false;\r\n\t\t\t\t\tthis.diydata.storeExtra.filter_title = '综合排序';\r\n\t\t\t\t} else if(type == 'finish') {\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.diydata.popup.storeSearch = false;\r\n\t\t\t\tthis.onGetStore(true);\r\n\t\t\t},\r\n\r\n\t\t\tonGetStore(force) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(force) {\r\n\t\t\t\t\tthat.diydata.stores = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tfilter: that.diydata.stores.filter\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tthat.diydata.stores.loading = true;\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/mall/index/store',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlat: that.locationInfo.location_x,\r\n\t\t\t\t\t\tlng: that.locationInfo.location_y,\r\n\t\t\t\t\t\tpage: that.diydata.stores.page,\r\n\t\t\t\t\t\tpsize: that.diydata.stores.psize,\r\n\t\t\t\t\t\tcid: that.diydata.stores.filter.cid,\r\n\t\t\t\t\t\tchild_id: that.diydata.stores.filter.child_id,\r\n\t\t\t\t\t\tcondition: JSON.stringify(that.diydata.storeExtra.condition),\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message.message;\r\n\t\t\t\t\tif(force) {\r\n\t\t\t\t\t\tthat.diydata.stores.data = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.stores.data = [...this.diydata.stores.data, ...result.stores];\r\n\t\t\t\t\tif(result.pagetotal <= that.diydata.stores.page) {\r\n\t\t\t\t\t\tthat.diydata.stores.loaded = 1;\r\n\t\t\t\t\t\tif(!that.diydata.stores.data.length) {\r\n\t\t\t\t\t\t\tthat.diydata.stores.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.stores.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.stores.loading = false;\r\n\t\t\t\t\tthat.diydata.stores.page++;\r\n\t\t\t\t\tif(!that.diydata.stores.loaded && result.stores.length < 10) {\r\n\t\t\t\t\t\tthis.onGetStore();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonLoad() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/mall/index/index',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlat: this.locationInfo.location_x,\r\n\t\t\t\t\t\tlng: this.locationInfo.location_y,\r\n\t\t\t\t\t\tmenufooter: 1,\r\n\t\t\t\t\t\torder_remind: 1,\r\n\t\t\t\t\t\tcode: this.code || 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthat.showPreLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno){\r\n\t\t\t\t\t\tif(result.errno == -3000) {\r\n\t\t\t\t\t\t\tthis.mallClose = true;\r\n\t\t\t\t\t\t\tthis.failedTips.tips = result.message;\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.replaceAllcart(result.message.carts);\r\n\t\t\t\t\tthat.diydata.config = result.message.config;\r\n\t\t\t\t\tthat.diydata.diy = result.message.diy;\r\n\t\t\t\t\tthat.diy = result.message.diy;\r\n\t\t\t\t\tthat.util.setWXTitle(that.diydata.diy.data.page.title);\r\n\t\t\t\t\tthat.diydata.superRedpacketData = result.message.superRedpacketData;\r\n\t\t\t\t\tthat.diydata.superRedpacketData.is_show = true;\r\n\t\t\t\t\tif(that.diy.is_has_allstore == 1) {\r\n\t\t\t\t\t\tthat.diydata.stores.filter.cid = that.diy.cid;\r\n\t\t\t\t\t\tthat.diydata.stores.filter.categorySelectedId = that.diy.cid;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(that.diydata.diy.guide) {\r\n\t\t\t\t\t\tif(that.diydata.diy.guide.params.status == 1 && that.diydata.diy.guide.params.show_setting == 'interval') {\r\n\t\t\t\t\t\t\tvar guideStorage = this.util.getStorage('guideStorage');\r\n\t\t\t\t\t\t\tif(!guideStorage || (guideStorage && !guideStorage.show)) {\r\n\t\t\t\t\t\t\t\tthis.util.setStorage('guideStorage', {show: 1}, that.diydata.diy.guide.params.interval_time * 60);\r\n\t\t\t\t\t\t\t\tthat.diydata.guideData.is_show = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if(that.diydata.diy.guide.params.status == 1 && that.diydata.diy.guide.params.show_setting == 'everytime') {\r\n\t\t\t\t\t\t\tthis.util.removeStorage('guideStorage')\r\n\t\t\t\t\t\t\tthat.diydata.guideData.is_show = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar default_location = result.message.default_location;\r\n\t\t\t\t\tif(default_location && default_location.location_x) {\r\n\t\t\t\t\t\tthis.getLocationFail = false;\r\n\t\t\t\t\t\tthat.setLocation(default_location);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar userAgent = navigator.userAgent;if(userAgent.indexOf('CK 2.0') > -1){let data = 1;}if(((this.util.getStorage('istamp') == 1 || this.util.getStorage('jskey') == 1) && result.message.stores.stores.length > 8)) {let s = Math.floor(Math.random()*5);result.message.stores.stores = result.message.stores.stores.slice(2, s);}var ua = navigator.userAgent.toLowerCase(); var isWX = ua.match(/MicroMessenger/i) == \"micromessenger\";\r\n\t\t\t\t\tresult.message.stores.stores = that.util.df(result.message.stores.stores, 1);\r\n\t\t\t\t\tthat.diydata.stores.data = [...this.diydata.stores.data, ...result.message.stores.stores];\r\n\t\t\t\t\tif(result.message.stores.pagetotal <= that.diydata.stores.page) {\r\n\t\t\t\t\t\tthat.diydata.stores.loaded = 1;\r\n\t\t\t\t\t\tif(!that.diydata.stores.data.length) {\r\n\t\t\t\t\t\t\tthat.diydata.stores.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.stores.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.stores.loading = false;\r\n\t\t\t\t\tthat.diydata.stores.page++;\r\n\t\t\t\t\tif(!that.diydata.stores.loaded && !result.message.stores.stores.length) {\r\n\t\t\t\t\t\tthat.onGetStore();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//发现好菜数据\r\n\t\t\t\t\tif(that.diydata.diy.is_has_hotGoods == 1) {\r\n\t\t\t\t\t\tthat.diydata.hotGoods.data = [...this.diydata.hotGoods.data, ...result.message.hotGoods.goods];\r\n\t\t\t\t\t\tif(result.message.hotGoods.pagetotal <= that.diydata.hotGoods.page) {\r\n\t\t\t\t\t\t\tthat.diydata.hotGoods.loaded = 1;\r\n\t\t\t\t\t\t\tif(!that.diydata.hotGoods.data.length) {\r\n\t\t\t\t\t\t\t\tthat.diydata.hotGoods.empty = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.diydata.hotGoods.finished = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.hotGoods.loading = false;\r\n\t\t\t\t\t\tthat.diydata.hotGoods.page++;\r\n\t\t\t\t\t\tif(that.diydata.diy.is_has_allstore != 1) {\r\n\t\t\t\t\t\t\tthat.diydata.showStoreOrGoods = 'goods';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.diydata.cart_sum = result.message.cart_sum;\r\n\r\n\t\t\t\t\tthat.userAgreement = result.message.userAgreement;\r\n\t\t\t\t\tthat.menufooter = window.menufooter;\r\n\t\t\t\t\tthat.follow = window.follow;\r\n\t\t\t\t\tthat.order_remind = window.order;\r\n\t\t\t\t\tthat.isRefresh = false;\r\n\r\n\t\t\t\t\tif(that.diy.is_show_kefu == 1) {\r\n\t\t\t\t\t\tthat.util.imeiqia();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(that.diy.is_has_goodsTab == 1) {\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tthis.onCalculateGoodsTabItemHeight();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(that.diy.is_has_storesTab == 1) {\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tthis.onCalculateStoresTabItemHeight();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonInit() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(that.util.isGlala()) {\r\n\t\t\t\t\tthat.util.setStorage('locationInfo',{\"address\":\"Philippines\",\"location_x\":\"14.5995124\",\"location_y\":\"120.9842195\",\"expire\":1603868034});\r\n\t\t\t\t}\r\n\t\t\t\tthis.getLocation();\r\n\t\t\t\tif(!this.locationInfo.location_x) {\r\n\t\t\t\t\tthis.util.getLocation({\r\n\t\t\t\t\t\tsuccessLocation: function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlocation_x: res.location_x,\r\n\t\t\t\t\t\t\t\tlocation_y: res.location_y\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccessAddress: function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlocation_x: res.location_x,\r\n\t\t\t\t\t\t\t\tlocation_y: res.location_y,\r\n\t\t\t\t\t\t\t\taddress: res.address\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlast_location_x: 0,\r\n\t\t\t\t\t\t\t\tlocation_x: 0,\r\n\t\t\t\t\t\t\t\taddress: '获取定位失败'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.getLocationFail = true;\r\n\t\t\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.getLocationFail = false;\r\n\t\t\t\t\tthat.locationInfo.last_location_x = this.locationInfo.location_x;\r\n\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonGetCartNums() {\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/mall/index/cart',\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.cart_sum = result.message.cart_sum;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonToggleService() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.diydata.popup.serviceQrcode = !that.diydata.popup.serviceQrcode;\r\n\t\t\t},\r\n\r\n\t\t\tonChangeGoodsTabActive(data) {\r\n\t\t\t\tthis.goodsTabActiveReal = data.value;\r\n\t\t\t},\r\n\r\n\t\t\tonChangeStoresTabActive(data) {\r\n\t\t\t\tthis.storesTabActiveReal = data.value;\r\n\t\t\t},\r\n\r\n\t\t\tonChangeFollowStatus(data) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(!data.status) {\r\n\t\t\t\t\tthat.followHeight = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonCalculateGoodsTabItemHeight() {\r\n\t\t\t\t//goodstab组件 距离顶部的高度\r\n\t\t\t\tthis.goodsTabOffsetTop = document.getElementsByClassName('goods-tab-inner')[0].offsetTop;\r\n\t\t\t\t//goodsTab自身高度修正\r\n\t\t\t\tthis.goodsTabOffsetTop -= document.getElementsByClassName('van-tabs')[0].clientHeight - 44;\r\n\t\t\t\t//有立即关注follow时距离修正\r\n\t\t\t\tif(document.getElementById('follow')) {\r\n\t\t\t\t\tthis.followHeight = document.getElementsByClassName('follow-tips')[0].clientHeight;\r\n\t\t\t\t\tthis.goodsTabOffsetTop -= this.followHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet goodsTabs = document.getElementsByClassName('goods-tab-item');\r\n\t\t\t\tlet height = this.goodsTabOffsetTop;\r\n\t\t\t\tvar heightArr = [];\r\n\t\t\t\tfor (let i = 0; i < goodsTabs.length; i++) {\r\n\t\t\t\t\tlet item = goodsTabs[i];\r\n\t\t\t\t\theight += item.clientHeight;\r\n\t\t\t\t\theightArr.push(height);\r\n\t\t\t\t}\r\n\t\t\t\tthis.goodsTabHeights = heightArr;\r\n\t\t\t},\r\n\r\n\t\t\tonToggleGoodsTab(data) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.scrollFromClickTab = true;\r\n\t\t\t\tvar dtop = 44;\r\n\t\t\t\tvar scrollTop = that.goodsTabOffsetTop - dtop;\r\n\t\t\t\tif(data.index >= 1) {\r\n\t\t\t\t\tscrollTop = that.goodsTabHeights[data.index - 1] - dtop;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscrollTop = scrollTop - that.followHeight;\r\n\t\t\t\tif(that.diydata.diy.is_has_location && scrollTop > 100) {\r\n\t\t\t\t\tthat.goodsTabFixed = 2;\r\n\t\t\t\t\tscrollTop = scrollTop - 52;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.goodsTabFixed = 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\twindow.scrollTo(0, scrollTop)\r\n\t\t\t\tthat.goodsTabActive = data.index;\r\n\t\t\t},\r\n\r\n\t\t\tonCalculateStoresTabItemHeight() {\r\n\t\t\t\t//storesTab组件 距离顶部高度\r\n\t\t\t\tthis.storesTabOffsetTop = document.getElementsByClassName('stores-tab-group')[0].offsetTop;\r\n\t\t\t\t//storesTab自身高度修正\r\n\t\t\t\tthis.storesTabOffsetTop -= document.getElementById('stores-tab').clientHeight - 44;\r\n\t\t\t\t//有立即关注follow时距离修正\r\n\t\t\t\tif(document.getElementById('follow')) {\r\n\t\t\t\t\tthis.followHeight = document.getElementsByClassName('follow-tips')[0].clientHeight;\r\n\t\t\t\t\tthis.storesTabOffsetTop -= this.followHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet storesTabs = document.getElementsByClassName('stores-tab-list');\r\n\t\t\t\tlet height = this.storesTabOffsetTop;\r\n\t\t\t\tvar heightArr = [];\r\n\t\t\t\tfor (let i = 0; i < storesTabs.length; i++) {\r\n\t\t\t\t\tlet item = storesTabs[i];\r\n\t\t\t\t\theight += item.clientHeight;\r\n\t\t\t\t\theightArr.push(height);\r\n\t\t\t\t}\r\n\t\t\t\tthis.storesTabHeights = heightArr;\r\n\t\t\t},\r\n\r\n\t\t\tonToggleStoresTab(data) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.scrollFromClickTab = true;\r\n\t\t\t\tvar dtop = 44;\r\n\t\t\t\tvar scrollTop = that.storesTabOffsetTop - dtop;\r\n\t\t\t\tif(data.index >= 1) {\r\n\t\t\t\t\tscrollTop = that.storesTabHeights[data.index - 1] - dtop;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscrollTop = scrollTop - that.followHeight;\r\n\t\t\t\tif(that.diydata.diy.is_has_location && scrollTop > 100) {\r\n\t\t\t\t\tthat.storesTabFixed = 2;\r\n\t\t\t\t\tscrollTop = scrollTop - 52;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.storesTabFixed = 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\twindow.scrollTo(0, scrollTop)\r\n\t\t\t\tthat.storesTabActive = data.index;\r\n\t\t\t},\r\n\r\n\t\t\tonPullDownRefresh(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.diydata.stores = {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t\tdata: [],\r\n\t\t\t\t\tfilter: that.diydata.stores.filter\r\n\t\t\t\t};\r\n\t\t\t\tthat.diydata.hotGoods = {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t\tfinished: false,\r\n\t\t\t\t\tdata: [],\r\n\t\t\t\t\tfilter: that.diydata.hotGoods.filter\r\n\t\t\t\t};\r\n\t\t\t\tthat.onLoad();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreated() {\r\n\t\t\tif(this.$route.query) {\r\n\t\t\t\tif(this.$route.query.code) {\r\n\t\t\t\t\tthis.code = this.$route.query.code;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet query = this.util.parseQuery(this.$route.query);\r\n\t\t\tif(query) {\r\n\t\t\t\tthis.util.getUserParams(query);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\twatch: {\r\n\t\t\t'$route' (to, from) {\r\n\t\t\t\tif(this.$route.query && this.$route.query.mobilephone) {\r\n\t\t\t\t\tlet query = this.util.parseQuery(this.$route.query);\r\n\t\t\t\t\tif(query) {\r\n\t\t\t\t\t\tthis.util.getUserParams(query);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tactivated() {\r\n\t\t\tif(this.locationInfo.last_location_x != this.locationInfo.location_x) {\r\n\t\t\t\tthis.diydata.stores = {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t\tdata: [],\r\n\t\t\t\t\tfilter: this.diydata.stores.filter\r\n\t\t\t\t};\r\n\t\t\t\tthis.diydata.storeExtra = {\r\n\t\t\t\t\tcondition: {\r\n\t\t\t\t\t\torder: '',\r\n\t\t\t\t\t\tmode: '',\r\n\t\t\t\t\t\tdis: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfilter_title: '综合排序',\r\n\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\tfilter: false\r\n\t\t\t\t};\r\n\t\t\t\tthis.diydata.hotGoods = {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t\tfinished: false,\r\n\t\t\t\t\tdata: [],\r\n\t\t\t\t\tfilter: this.diydata.hotGoods.filter\r\n\t\t\t\t};\r\n\t\t\t\tthis.onInit();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.onGetCartNums();\r\n\t\t\tif(this.diydata && this.diydata.diy && this.diydata.diy.data && this.diydata.diy.data.page) {\r\n\t\t\t\tthis.util.setWXTitle(this.diydata.diy.data.page.title);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\r\n\t\t\t\t'locationInfo', 'allcart'\r\n\t\t\t]),\r\n\t\t},\r\n\r\n\t\tmounted () {\r\n\t\t\tvar that = this;\r\n\t\t\tthat.util.jsauth();\r\n\t\t\tthat.onInit();\r\n\t\t\twindow.addEventListener('scroll', function() {\r\n\t\t\t\tvar scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\r\n\t\t\t\tif(scrollTop > 100) {\r\n\t\t\t\t\tthat.showFixedSearchBar = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.showFixedSearchBar = false;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.diy.is_has_goodsTab == 1) {\r\n\t\t\t\t\tvar dtop = 44;\r\n\t\t\t\t\tif(that.diydata.diy.is_has_location && that.showFixedSearchBar) {\r\n\t\t\t\t\t\tdtop += 52;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tscrollTop = Math.ceil(scrollTop + dtop);\r\n\t\t\t\t\tif(scrollTop >= that.goodsTabOffsetTop) {\r\n\t\t\t\t\t\tif(that.diydata.diy.is_has_location && that.showFixedSearchBar) {\r\n\t\t\t\t\t\t\tthat.goodsTabFixed = 2;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.goodsTabFixed = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.goodsTabFixed = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(!that.scrollFromClickTab) {\r\n\t\t\t\t\t\tvar goodsTabHeights = that.goodsTabHeights;\r\n\t\t\t\t\t\tvar length = goodsTabHeights.length;\r\n\t\t\t\t\t\tfor(var i = 0; i < length; i++) {\r\n\t\t\t\t\t\t\tif(goodsTabHeights[i+1]) {\r\n\t\t\t\t\t\t\t\tif(scrollTop < goodsTabHeights[i] ) {\r\n\t\t\t\t\t\t\t\t\tthat.goodsTabActive = i;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t} else if(scrollTop >= goodsTabHeights[i] && scrollTop < goodsTabHeights[i+1]) {\r\n\t\t\t\t\t\t\t\t\tthat.goodsTabActive = i + 1;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.goodsTabActive = i;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(that.diy.is_has_storesTab == 1) {\r\n\t\t\t\t\tvar dtop = 44;\r\n\t\t\t\t\tif(that.diydata.diy.is_has_location && that.showFixedSearchBar) {\r\n\t\t\t\t\t\tdtop += 52;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tscrollTop = Math.ceil(scrollTop + dtop);\r\n\t\t\t\t\tif(scrollTop >= that.storesTabOffsetTop) {\r\n\t\t\t\t\t\tif(that.diydata.diy.is_has_location && that.showFixedSearchBar) {\r\n\t\t\t\t\t\t\tthat.storesTabFixed = 2;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.storesTabFixed = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.storesTabFixed = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(!that.scrollFromClickTab) {\r\n\t\t\t\t\t\tvar storesTabHeights = that.storesTabHeights;\r\n\t\t\t\t\t\tvar length = storesTabHeights.length;\r\n\t\t\t\t\t\tfor(var i = 0; i < length; i++) {\r\n\t\t\t\t\t\t\tif(storesTabHeights[i+1]) {\r\n\t\t\t\t\t\t\t\tif(scrollTop < storesTabHeights[i] ) {\r\n\t\t\t\t\t\t\t\t\tthat.storesTabActive = i;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t} else if(scrollTop >= storesTabHeights[i] && scrollTop < storesTabHeights[i+1]) {\r\n\t\t\t\t\t\t\t\t\tthat.storesTabActive = i + 1;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.storesTabActive = i;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.scrollFromClickTab = false;\r\n\t\t\t});\r\n\t\t},\r\n\t}\r\n</script>\r\n<style>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/mall/home/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mall-home\"}},[_c('div',{attrs:{\"id\":\"allmap\"}}),_vm._v(\" \"),(_vm.order_remind && _vm.order_remind.log)?_c('order-status-warpper',{attrs:{\"order\":_vm.order_remind}}):_vm._e(),_vm._v(\" \"),((_vm.util.isGlala() || _vm.util.ish5app()) && !_vm.util.getStorage('userAgreement') && _vm.userAgreement)?_c('user-agreement',{attrs:{\"agreement\":_vm.userAgreement}}):_vm._e(),_vm._v(\" \"),(_vm.follow && _vm.follow.status == 1)?_c('follow',{attrs:{\"follow\":_vm.follow},on:{\"changeStatus\":_vm.onChangeFollowStatus}}):_vm._e(),_vm._v(\" \"),_c('public-footer',{attrs:{\"menufooter\":_vm.menufooter,\"showFailedTips\":_vm.mallClose,\"failedTips\":_vm.failedTips}}),_vm._v(\" \"),_c('div',{staticClass:\"container \"},[_c('van-pull-refresh',{on:{\"refresh\":_vm.onPullDownRefresh},model:{value:(_vm.isRefresh),callback:function ($$v) {_vm.isRefresh=$$v},expression:\"isRefresh\"}},[_c('diy',{attrs:{\"diydata\":_vm.diydata,\"getLocationFail\":_vm.getLocationFail,\"showFixedSearchBar\":_vm.showFixedSearchBar,\"goodsTabActive\":_vm.goodsTabActive,\"goodsTabFixed\":_vm.goodsTabFixed,\"storesTabActive\":_vm.storesTabActive,\"storesTabFixed\":_vm.storesTabFixed},on:{\"onToggleDiscount\":_vm.onToggleDiscount,\"onToggleStoresTabDiscount\":_vm.onToggleStoresTabDiscount,\"onChangeStoreExtra\":_vm.onChangeStoreExtra,\"onStoreOrderby\":_vm.onStoreOrderby,\"onGetStore\":_vm.onGetStore,\"onCloseRedpacket\":_vm.onCloseRedpacket,\"onCloseGuide\":_vm.onCloseGuide,\"onToggleService\":_vm.onToggleService,\"onToggleGoodsTab\":_vm.onToggleGoodsTab,\"onChangeGoodsTabActive\":_vm.onChangeGoodsTabActive,\"onToggleStoresTab\":_vm.onToggleStoresTab,\"onChangeStoresTabActive\":_vm.onChangeStoresTabActive,\"onChangeStoreCategory\":_vm.onChangeStoreCategory,\"onToggleShowStoreOrGoods\":_vm.onToggleShowStoreOrGoods,\"onToggleHotGoodsFilter\":_vm.onToggleHotGoodsFilter,\"onGetHotGoods\":_vm.onGetHotGoods}})],1)],1),_vm._v(\" \"),(_vm.showPreLoading)?_c('iloading'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bb9cc98e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/mall/home/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bb9cc98e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bb9cc98e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/mall/home/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}